<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>NfModel</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">-- A Beth model of normal forms</a>

<a id="34" class="Keyword">open</a> <a id="39" class="Keyword">import</a> <a id="46" href="Library.html" class="Module">Library</a>

<a id="55" class="Keyword">module</a> <a id="62" href="NfModel.html" class="Module">NfModel</a> <a id="70" class="Symbol">(</a><a id="71" href="NfModel.html#71" class="Bound">Base</a> <a id="76" class="Symbol">:</a> <a id="78" class="PrimitiveType">Set</a><a id="81" class="Symbol">)</a> <a id="83" class="Keyword">where</a>

<a id="90" class="Keyword">import</a> <a id="97" href="Formulas.html" class="Module">Formulas</a>   <a id="108" class="Symbol">;</a> <a id="110" class="Keyword">open</a> <a id="115" class="Keyword">module</a> <a id="Form"></a><a id="122" href="NfModel.html#122" class="Module">Form</a> <a id="127" class="Symbol">=</a> <a id="129" href="Formulas.html" class="Module">Formulas</a>    <a id="141" href="NfModel.html#71" class="Bound">Base</a>
<a id="146" class="Keyword">import</a> <a id="153" href="Derivations.html" class="Module">Derivations</a><a id="164" class="Symbol">;</a> <a id="166" class="Keyword">open</a> <a id="171" class="Keyword">module</a> <a id="Der"></a><a id="178" href="NfModel.html#178" class="Module">Der</a>  <a id="183" class="Symbol">=</a> <a id="185" href="Derivations.html" class="Module">Derivations</a> <a id="197" href="NfModel.html#71" class="Bound">Base</a>

<a id="203" class="Comment">-- Beth model</a>

<a id="218" class="Comment">-- A cover for Γ is the skeleton of a case tree that can be formed in Γ.</a>
<a id="291" class="Comment">-- It contains the (neutral) scrutinees we case over and the markers (hole)</a>
<a id="367" class="Comment">-- for the leaves that have to be filled by the branches of the case statement.</a>

<a id="448" class="Keyword">data</a> <a id="Cover"></a><a id="453" href="NfModel.html#453" class="Datatype">Cover</a> <a id="459" class="Symbol">(</a><a id="460" href="NfModel.html#460" class="Bound">Γ</a> <a id="462" class="Symbol">:</a> <a id="464" href="Formulas.html#368" class="Datatype">Cxt</a><a id="467" class="Symbol">)</a> <a id="469" class="Symbol">:</a> <a id="471" class="PrimitiveType">Set</a> <a id="475" class="Keyword">where</a>
  <a id="Cover.hole"></a><a id="483" href="NfModel.html#483" class="InductiveConstructor">hole</a>   <a id="490" class="Symbol">:</a> <a id="492" href="NfModel.html#453" class="Datatype">Cover</a> <a id="498" href="NfModel.html#460" class="Bound">Γ</a>
  <a id="Cover.falseC"></a><a id="502" href="NfModel.html#502" class="InductiveConstructor">falseC</a> <a id="509" class="Symbol">:</a> <a id="511" class="Symbol">(</a><a id="512" href="NfModel.html#512" class="Bound">t</a> <a id="514" class="Symbol">:</a> <a id="516" href="Derivations.html#3137" class="Datatype">Ne</a> <a id="519" href="NfModel.html#460" class="Bound">Γ</a> <a id="521" href="Formulas.html#208" class="InductiveConstructor">False</a><a id="526" class="Symbol">)</a> <a id="528" class="Symbol">→</a> <a id="530" href="NfModel.html#453" class="Datatype">Cover</a> <a id="536" href="NfModel.html#460" class="Bound">Γ</a>
  <a id="Cover.orC"></a><a id="540" href="NfModel.html#540" class="InductiveConstructor">orC</a>    <a id="547" class="Symbol">:</a> <a id="549" class="Symbol">∀{</a><a id="551" href="NfModel.html#551" class="Bound">A</a> <a id="553" href="NfModel.html#553" class="Bound">B</a><a id="554" class="Symbol">}</a> <a id="556" class="Symbol">(</a><a id="557" href="NfModel.html#557" class="Bound">t</a> <a id="559" class="Symbol">:</a> <a id="561" href="Derivations.html#3137" class="Datatype">Ne</a> <a id="564" href="NfModel.html#460" class="Bound">Γ</a> <a id="566" class="Symbol">(</a><a id="567" href="NfModel.html#551" class="Bound">A</a> <a id="569" href="Formulas.html#223" class="InductiveConstructor Operator">∨</a> <a id="571" href="NfModel.html#553" class="Bound">B</a><a id="572" class="Symbol">))</a> <a id="575" class="Symbol">(</a><a id="576" href="NfModel.html#576" class="Bound">c</a> <a id="578" class="Symbol">:</a> <a id="580" href="NfModel.html#453" class="Datatype">Cover</a> <a id="586" class="Symbol">(</a><a id="587" href="NfModel.html#460" class="Bound">Γ</a> <a id="589" href="Formulas.html#396" class="InductiveConstructor Operator">∙</a> <a id="591" href="NfModel.html#551" class="Bound">A</a><a id="592" class="Symbol">))</a> <a id="595" class="Symbol">(</a><a id="596" href="NfModel.html#596" class="Bound">d</a> <a id="598" class="Symbol">:</a> <a id="600" href="NfModel.html#453" class="Datatype">Cover</a> <a id="606" class="Symbol">(</a><a id="607" href="NfModel.html#460" class="Bound">Γ</a> <a id="609" href="Formulas.html#396" class="InductiveConstructor Operator">∙</a> <a id="611" href="NfModel.html#553" class="Bound">B</a><a id="612" class="Symbol">))</a> <a id="615" class="Symbol">→</a> <a id="617" href="NfModel.html#453" class="Datatype">Cover</a> <a id="623" href="NfModel.html#460" class="Bound">Γ</a>

<a id="626" class="Comment">-- Choice of names.</a>
<a id="646" class="Comment">-- hole  : has the same role as the hole-evaluation context (identity).</a>
<a id="718" class="Comment">-- falseC: basically falseE.</a>
<a id="747" class="Comment">-- orC   : basically orE.</a>

<a id="774" class="Comment">-- Given c : Cover Γ, a path p : Δ ∈ c leads us from the root to one of the leaves (hole)</a>
<a id="864" class="Comment">-- of the case tree.  Δ is the context at the leaf.</a>

<a id="917" class="Keyword">data</a> <a id="_∈_"></a><a id="922" href="NfModel.html#922" class="Datatype Operator">_∈_</a> <a id="926" href="NfModel.html#926" class="Bound">Δ</a> <a id="928" class="Symbol">:</a> <a id="930" class="Symbol">({</a><a id="932" href="NfModel.html#932" class="Bound">Γ</a><a id="933" class="Symbol">}</a> <a id="935" class="Symbol">:</a> <a id="937" href="Formulas.html#368" class="Datatype">Cxt</a><a id="940" class="Symbol">)</a> <a id="942" class="Symbol">(</a><a id="943" href="NfModel.html#943" class="Bound">c</a> <a id="945" class="Symbol">:</a> <a id="947" href="NfModel.html#453" class="Datatype">Cover</a> <a id="953" href="NfModel.html#932" class="Bound">Γ</a><a id="954" class="Symbol">)</a> <a id="956" class="Symbol">→</a> <a id="958" class="PrimitiveType">Set</a> <a id="962" class="Keyword">where</a>
  <a id="_∈_.here"></a><a id="970" href="NfModel.html#970" class="InductiveConstructor">here</a>  <a id="976" class="Symbol">:</a> <a id="978" href="NfModel.html#926" class="Bound">Δ</a> <a id="980" href="NfModel.html#922" class="Datatype Operator">∈</a> <a id="982" href="NfModel.html#483" class="InductiveConstructor">hole</a> <a id="987" class="Symbol">{</a><a id="988" href="NfModel.html#926" class="Bound">Δ</a><a id="989" class="Symbol">}</a>
  <a id="_∈_.left"></a><a id="993" href="NfModel.html#993" class="InductiveConstructor">left</a>  <a id="999" class="Symbol">:</a> <a id="1001" class="Symbol">∀{</a><a id="1003" href="NfModel.html#1003" class="Bound">Γ</a> <a id="1005" href="NfModel.html#1005" class="Bound">A</a> <a id="1007" href="NfModel.html#1007" class="Bound">B</a> <a id="1009" href="NfModel.html#1009" class="Bound">c</a> <a id="1011" href="NfModel.html#1011" class="Bound">d</a><a id="1012" class="Symbol">}</a> <a id="1014" class="Symbol">{</a><a id="1015" href="NfModel.html#1015" class="Bound">t</a> <a id="1017" class="Symbol">:</a> <a id="1019" href="Derivations.html#3137" class="Datatype">Ne</a> <a id="1022" href="NfModel.html#1003" class="Bound">Γ</a> <a id="1024" class="Symbol">(</a><a id="1025" href="NfModel.html#1005" class="Bound">A</a> <a id="1027" href="Formulas.html#223" class="InductiveConstructor Operator">∨</a> <a id="1029" href="NfModel.html#1007" class="Bound">B</a><a id="1030" class="Symbol">)}</a> <a id="1033" class="Symbol">(</a><a id="1034" href="NfModel.html#1034" class="Bound">e</a> <a id="1036" class="Symbol">:</a> <a id="1038" href="NfModel.html#926" class="Bound">Δ</a> <a id="1040" href="NfModel.html#922" class="Datatype Operator">∈</a> <a id="1042" href="NfModel.html#1009" class="Bound">c</a><a id="1043" class="Symbol">)</a> <a id="1045" class="Symbol">→</a> <a id="1047" href="NfModel.html#926" class="Bound">Δ</a> <a id="1049" href="NfModel.html#922" class="Datatype Operator">∈</a> <a id="1051" href="NfModel.html#540" class="InductiveConstructor">orC</a> <a id="1055" href="NfModel.html#1015" class="Bound">t</a> <a id="1057" href="NfModel.html#1009" class="Bound">c</a> <a id="1059" href="NfModel.html#1011" class="Bound">d</a>
  <a id="_∈_.right"></a><a id="1063" href="NfModel.html#1063" class="InductiveConstructor">right</a> <a id="1069" class="Symbol">:</a> <a id="1071" class="Symbol">∀{</a><a id="1073" href="NfModel.html#1073" class="Bound">Γ</a> <a id="1075" href="NfModel.html#1075" class="Bound">A</a> <a id="1077" href="NfModel.html#1077" class="Bound">B</a> <a id="1079" href="NfModel.html#1079" class="Bound">c</a> <a id="1081" href="NfModel.html#1081" class="Bound">d</a><a id="1082" class="Symbol">}</a> <a id="1084" class="Symbol">{</a><a id="1085" href="NfModel.html#1085" class="Bound">t</a> <a id="1087" class="Symbol">:</a> <a id="1089" href="Derivations.html#3137" class="Datatype">Ne</a> <a id="1092" href="NfModel.html#1073" class="Bound">Γ</a> <a id="1094" class="Symbol">(</a><a id="1095" href="NfModel.html#1075" class="Bound">A</a> <a id="1097" href="Formulas.html#223" class="InductiveConstructor Operator">∨</a> <a id="1099" href="NfModel.html#1077" class="Bound">B</a><a id="1100" class="Symbol">)}</a> <a id="1103" class="Symbol">(</a><a id="1104" href="NfModel.html#1104" class="Bound">e</a> <a id="1106" class="Symbol">:</a> <a id="1108" href="NfModel.html#926" class="Bound">Δ</a> <a id="1110" href="NfModel.html#922" class="Datatype Operator">∈</a> <a id="1112" href="NfModel.html#1081" class="Bound">d</a><a id="1113" class="Symbol">)</a> <a id="1115" class="Symbol">→</a> <a id="1117" href="NfModel.html#926" class="Bound">Δ</a> <a id="1119" href="NfModel.html#922" class="Datatype Operator">∈</a> <a id="1121" href="NfModel.html#540" class="InductiveConstructor">orC</a> <a id="1125" href="NfModel.html#1085" class="Bound">t</a> <a id="1127" href="NfModel.html#1079" class="Bound">c</a> <a id="1129" href="NfModel.html#1081" class="Bound">d</a>

<a id="1132" class="Comment">-- Given a case tree c : Cover Γ and a context-indexed set P,</a>
<a id="1194" class="Comment">-- f : All c P  is an assignment of things in  P Δ  to holes</a>
<a id="1255" class="Comment">-- of type Δ reached by pathes e : Δ ∈ c.</a>

<a id="All"></a><a id="1298" href="NfModel.html#1298" class="Function">All</a> <a id="1302" class="Symbol">:</a> <a id="1304" class="Symbol">∀{</a><a id="1306" href="NfModel.html#1306" class="Bound">Γ</a><a id="1307" class="Symbol">}</a> <a id="1309" class="Symbol">(</a><a id="1310" href="NfModel.html#1310" class="Bound">c</a> <a id="1312" class="Symbol">:</a> <a id="1314" href="NfModel.html#453" class="Datatype">Cover</a> <a id="1320" href="NfModel.html#1306" class="Bound">Γ</a><a id="1321" class="Symbol">)</a> <a id="1323" class="Symbol">(</a><a id="1324" href="NfModel.html#1324" class="Bound">P</a> <a id="1326" class="Symbol">:</a> <a id="1328" class="Symbol">(</a><a id="1329" href="NfModel.html#1329" class="Bound">Δ</a> <a id="1331" class="Symbol">:</a> <a id="1333" href="Formulas.html#368" class="Datatype">Cxt</a><a id="1336" class="Symbol">)</a> <a id="1338" class="Symbol">→</a> <a id="1340" class="PrimitiveType">Set</a><a id="1343" class="Symbol">)</a> <a id="1345" class="Symbol">→</a> <a id="1347" class="PrimitiveType">Set</a>
<a id="1351" href="NfModel.html#1298" class="Function">All</a> <a id="1355" href="NfModel.html#1355" class="Bound">c</a> <a id="1357" href="NfModel.html#1357" class="Bound">P</a> <a id="1359" class="Symbol">=</a> <a id="1361" class="Symbol">∀{</a><a id="1363" href="NfModel.html#1363" class="Bound">Δ</a><a id="1364" class="Symbol">}</a> <a id="1366" class="Symbol">(</a><a id="1367" href="NfModel.html#1367" class="Bound">e</a> <a id="1369" class="Symbol">:</a> <a id="1371" href="NfModel.html#1363" class="Bound">Δ</a> <a id="1373" href="NfModel.html#922" class="Datatype Operator">∈</a> <a id="1375" href="NfModel.html#1355" class="Bound">c</a><a id="1376" class="Symbol">)</a> <a id="1378" class="Symbol">→</a> <a id="1380" href="NfModel.html#1357" class="Bound">P</a> <a id="1382" href="NfModel.html#1363" class="Bound">Δ</a>

<a id="1385" class="Comment">-- We can also use All c P with a property P on context,</a>
<a id="1442" class="Comment">-- to express that all holes of c satify P.</a>

<a id="1487" class="Comment">-- We might want to depend on the path e : Δ ∈ c also:</a>

<a id="All&#39;"></a><a id="1543" href="NfModel.html#1543" class="Function">All&#39;</a> <a id="1548" class="Symbol">:</a> <a id="1550" class="Symbol">∀{</a><a id="1552" href="NfModel.html#1552" class="Bound">Γ</a><a id="1553" class="Symbol">}</a> <a id="1555" class="Symbol">(</a><a id="1556" href="NfModel.html#1556" class="Bound">c</a> <a id="1558" class="Symbol">:</a> <a id="1560" href="NfModel.html#453" class="Datatype">Cover</a> <a id="1566" href="NfModel.html#1552" class="Bound">Γ</a><a id="1567" class="Symbol">)</a> <a id="1569" class="Symbol">(</a><a id="1570" href="NfModel.html#1570" class="Bound">P</a> <a id="1572" class="Symbol">:</a> <a id="1574" class="Symbol">∀</a> <a id="1576" class="Symbol">{</a><a id="1577" href="NfModel.html#1577" class="Bound">Δ</a><a id="1578" class="Symbol">}</a> <a id="1580" class="Symbol">(</a><a id="1581" href="NfModel.html#1581" class="Bound">e</a> <a id="1583" class="Symbol">:</a> <a id="1585" href="NfModel.html#1577" class="Bound">Δ</a> <a id="1587" href="NfModel.html#922" class="Datatype Operator">∈</a> <a id="1589" href="NfModel.html#1556" class="Bound">c</a><a id="1590" class="Symbol">)</a> <a id="1592" class="Symbol">→</a> <a id="1594" class="PrimitiveType">Set</a><a id="1597" class="Symbol">)</a> <a id="1599" class="Symbol">→</a> <a id="1601" class="PrimitiveType">Set</a>
<a id="1605" href="NfModel.html#1543" class="Function">All&#39;</a> <a id="1610" href="NfModel.html#1610" class="Bound">c</a> <a id="1612" href="NfModel.html#1612" class="Bound">P</a> <a id="1614" class="Symbol">=</a> <a id="1616" class="Symbol">∀{</a><a id="1618" href="NfModel.html#1618" class="Bound">Δ</a><a id="1619" class="Symbol">}</a> <a id="1621" class="Symbol">(</a><a id="1622" href="NfModel.html#1622" class="Bound">e</a> <a id="1624" class="Symbol">:</a> <a id="1626" href="NfModel.html#1618" class="Bound">Δ</a> <a id="1628" href="NfModel.html#922" class="Datatype Operator">∈</a> <a id="1630" href="NfModel.html#1610" class="Bound">c</a><a id="1631" class="Symbol">)</a> <a id="1633" class="Symbol">→</a> <a id="1635" href="NfModel.html#1612" class="Bound">P</a> <a id="1637" href="NfModel.html#1622" class="Bound">e</a>

<a id="1640" class="Comment">-- If  c : Cover Γ  and  e : Δ ∈ C,  then Δ must be an extension of Γ.</a>
<a id="1711" class="Comment">-- Here, we only prove that it is a thinning.</a>

<a id="coverWk"></a><a id="1758" href="NfModel.html#1758" class="Function">coverWk</a> <a id="1766" class="Symbol">:</a> <a id="1768" class="Symbol">∀{</a><a id="1770" href="NfModel.html#1770" class="Bound">Γ</a><a id="1771" class="Symbol">}</a> <a id="1773" class="Symbol">{</a><a id="1774" href="NfModel.html#1774" class="Bound">c</a> <a id="1776" class="Symbol">:</a> <a id="1778" href="NfModel.html#453" class="Datatype">Cover</a> <a id="1784" href="NfModel.html#1770" class="Bound">Γ</a><a id="1785" class="Symbol">}</a> <a id="1787" class="Symbol">→</a> <a id="1789" href="NfModel.html#1298" class="Function">All</a> <a id="1793" href="NfModel.html#1774" class="Bound">c</a> <a id="1795" class="Symbol">(</a><a id="1796" href="Formulas.html#495" class="Datatype Operator">_≤</a> <a id="1799" href="NfModel.html#1770" class="Bound">Γ</a><a id="1800" class="Symbol">)</a>
<a id="1802" href="NfModel.html#1758" class="Function">coverWk</a> <a id="1810" href="NfModel.html#970" class="InductiveConstructor">here</a>      <a id="1820" class="Symbol">=</a> <a id="1822" href="Formulas.html#527" class="InductiveConstructor">id≤</a>
<a id="1826" href="NfModel.html#1758" class="Function">coverWk</a> <a id="1834" class="Symbol">(</a><a id="1835" href="NfModel.html#993" class="InductiveConstructor">left</a>  <a id="1841" href="NfModel.html#1841" class="Bound">e</a><a id="1842" class="Symbol">)</a> <a id="1844" class="Symbol">=</a> <a id="1846" href="NfModel.html#1758" class="Function">coverWk</a> <a id="1854" href="NfModel.html#1841" class="Bound">e</a> <a id="1856" href="Formulas.html#740" class="Function Operator">•</a> <a id="1858" href="Formulas.html#548" class="InductiveConstructor">weak</a> <a id="1863" href="Formulas.html#527" class="InductiveConstructor">id≤</a>
<a id="1867" href="NfModel.html#1758" class="Function">coverWk</a> <a id="1875" class="Symbol">(</a><a id="1876" href="NfModel.html#1063" class="InductiveConstructor">right</a> <a id="1882" href="NfModel.html#1882" class="Bound">e</a><a id="1883" class="Symbol">)</a> <a id="1885" class="Symbol">=</a> <a id="1887" href="NfModel.html#1758" class="Function">coverWk</a> <a id="1895" href="NfModel.html#1882" class="Bound">e</a> <a id="1897" href="Formulas.html#740" class="Function Operator">•</a> <a id="1899" href="Formulas.html#548" class="InductiveConstructor">weak</a> <a id="1904" href="Formulas.html#527" class="InductiveConstructor">id≤</a>

<a id="1909" class="Comment">-- We can substitute leaves in the case tree by case trees in turn.</a>
<a id="1977" class="Comment">-- The following is a ``parallel substitution&#39;&#39; operations for covers.</a>

<a id="2049" class="Comment">-- If c : Cover Γ and f is a mapping from the leaves of c to case trees</a>
<a id="2121" class="Comment">-- we can graft f onto c to get a new case tree  transC c f.</a>

<a id="2183" class="Comment">-- Here, the case tree substitution is given as a function from pathes</a>
<a id="2254" class="Comment">-- p : Δ ∈ c  to covers.</a>

<a id="transC"></a><a id="2280" href="NfModel.html#2280" class="Function">transC</a> <a id="2287" class="Symbol">:</a> <a id="2289" class="Symbol">∀{</a><a id="2291" href="NfModel.html#2291" class="Bound">Γ</a><a id="2292" class="Symbol">}</a> <a id="2294" class="Symbol">(</a><a id="2295" href="NfModel.html#2295" class="Bound">c</a> <a id="2297" class="Symbol">:</a> <a id="2299" href="NfModel.html#453" class="Datatype">Cover</a> <a id="2305" href="NfModel.html#2291" class="Bound">Γ</a><a id="2306" class="Symbol">)</a> <a id="2308" class="Symbol">(</a><a id="2309" href="NfModel.html#2309" class="Bound">f</a> <a id="2311" class="Symbol">:</a> <a id="2313" href="NfModel.html#1298" class="Function">All</a> <a id="2317" href="NfModel.html#2295" class="Bound">c</a> <a id="2319" href="NfModel.html#453" class="Datatype">Cover</a><a id="2324" class="Symbol">)</a> <a id="2326" class="Symbol">→</a> <a id="2328" href="NfModel.html#453" class="Datatype">Cover</a> <a id="2334" href="NfModel.html#2291" class="Bound">Γ</a>
<a id="2336" href="NfModel.html#2280" class="Function">transC</a> <a id="2343" href="NfModel.html#483" class="InductiveConstructor">hole</a>        <a id="2355" href="NfModel.html#2355" class="Bound">f</a> <a id="2357" class="Symbol">=</a> <a id="2359" href="NfModel.html#2355" class="Bound">f</a> <a id="2361" href="NfModel.html#970" class="InductiveConstructor">here</a>
<a id="2366" href="NfModel.html#2280" class="Function">transC</a> <a id="2373" class="Symbol">(</a><a id="2374" href="NfModel.html#502" class="InductiveConstructor">falseC</a> <a id="2381" href="NfModel.html#2381" class="Bound">t</a><a id="2382" class="Symbol">)</a>  <a id="2385" href="NfModel.html#2385" class="Bound">f</a> <a id="2387" class="Symbol">=</a> <a id="2389" href="NfModel.html#502" class="InductiveConstructor">falseC</a> <a id="2396" href="NfModel.html#2381" class="Bound">t</a>
<a id="2398" href="NfModel.html#2280" class="Function">transC</a> <a id="2405" class="Symbol">(</a><a id="2406" href="NfModel.html#540" class="InductiveConstructor">orC</a> <a id="2410" href="NfModel.html#2410" class="Bound">t</a> <a id="2412" href="NfModel.html#2412" class="Bound">c</a> <a id="2414" href="NfModel.html#2414" class="Bound">d</a><a id="2415" class="Symbol">)</a> <a id="2417" href="NfModel.html#2417" class="Bound">f</a> <a id="2419" class="Symbol">=</a> <a id="2421" href="NfModel.html#540" class="InductiveConstructor">orC</a> <a id="2425" href="NfModel.html#2410" class="Bound">t</a> <a id="2427" class="Symbol">(</a><a id="2428" href="NfModel.html#2280" class="Function">transC</a> <a id="2435" href="NfModel.html#2412" class="Bound">c</a> <a id="2437" class="Symbol">(</a><a id="2438" href="NfModel.html#2417" class="Bound">f</a> <a id="2440" href="Function.html#759" class="Function Operator">∘</a> <a id="2442" href="NfModel.html#993" class="InductiveConstructor">left</a><a id="2446" class="Symbol">))</a> <a id="2449" class="Symbol">(</a><a id="2450" href="NfModel.html#2280" class="Function">transC</a> <a id="2457" href="NfModel.html#2414" class="Bound">d</a> <a id="2459" class="Symbol">(</a><a id="2460" href="NfModel.html#2417" class="Bound">f</a> <a id="2462" href="Function.html#759" class="Function Operator">∘</a> <a id="2464" href="NfModel.html#1063" class="InductiveConstructor">right</a><a id="2469" class="Symbol">))</a>

<a id="2473" class="Comment">-- Composition of pathes.</a>

<a id="2500" class="Comment">-- Assume a c : Cover Γ and a substitution f : Δ ∈ c → ∁over Δ and a path e : Δ ∈ c.</a>
<a id="2585" class="Comment">-- Then any path p : Φ ∈ f e can be extended to a path q : Φ ∈ transC c f</a>
<a id="2659" class="Comment">-- by essentially concatenating e and p.</a>

<a id="2701" class="Comment">-- Note that we maintain f only for the sake of typing.</a>

<a id="2758" class="Comment">-- trans∈ : ∀{Γ} (c : Cover Γ) (f : All c Cover) →</a>
<a id="2809" class="Comment">--   ∀ {Δ} (e : Δ ∈ c) {Φ} → Φ ∈ f e → Φ ∈ transC c f</a>

<a id="trans∈"></a><a id="2864" href="NfModel.html#2864" class="Function">trans∈</a> <a id="2871" class="Symbol">:</a> <a id="2873" class="Symbol">∀{</a><a id="2875" href="NfModel.html#2875" class="Bound">Γ</a><a id="2876" class="Symbol">}</a> <a id="2878" class="Symbol">(</a><a id="2879" href="NfModel.html#2879" class="Bound">c</a> <a id="2881" class="Symbol">:</a> <a id="2883" href="NfModel.html#453" class="Datatype">Cover</a> <a id="2889" href="NfModel.html#2875" class="Bound">Γ</a><a id="2890" class="Symbol">)</a> <a id="2892" class="Symbol">(</a><a id="2893" href="NfModel.html#2893" class="Bound">f</a> <a id="2895" class="Symbol">:</a> <a id="2897" href="NfModel.html#1298" class="Function">All</a> <a id="2901" href="NfModel.html#2879" class="Bound">c</a> <a id="2903" href="NfModel.html#453" class="Datatype">Cover</a><a id="2908" class="Symbol">)</a> <a id="2910" class="Symbol">→</a>
  <a id="2914" href="NfModel.html#1543" class="Function">All&#39;</a> <a id="2919" href="NfModel.html#2879" class="Bound">c</a> <a id="2921" class="Symbol">λ</a> <a id="2923" class="Symbol">{</a><a id="2924" href="NfModel.html#2924" class="Bound">Δ</a><a id="2925" class="Symbol">}</a> <a id="2927" class="Symbol">(</a><a id="2928" href="NfModel.html#2928" class="Bound">e</a> <a id="2930" class="Symbol">:</a> <a id="2932" href="NfModel.html#2924" class="Bound">Δ</a> <a id="2934" href="NfModel.html#922" class="Datatype Operator">∈</a> <a id="2936" href="NfModel.html#2879" class="Bound">c</a><a id="2937" class="Symbol">)</a> <a id="2939" class="Symbol">→</a> <a id="2941" href="NfModel.html#1298" class="Function">All</a> <a id="2945" class="Symbol">(</a><a id="2946" href="NfModel.html#2893" class="Bound">f</a> <a id="2948" href="NfModel.html#2928" class="Bound">e</a><a id="2949" class="Symbol">)</a> <a id="2951" class="Symbol">(</a><a id="2952" href="NfModel.html#922" class="Datatype Operator">_∈</a> <a id="2955" href="NfModel.html#2280" class="Function">transC</a> <a id="2962" href="NfModel.html#2879" class="Bound">c</a> <a id="2964" href="NfModel.html#2893" class="Bound">f</a><a id="2965" class="Symbol">)</a>
<a id="2967" href="NfModel.html#2864" class="Function">trans∈</a> <a id="2974" href="NfModel.html#483" class="InductiveConstructor">hole</a>        <a id="2986" href="NfModel.html#2986" class="Bound">f</a> <a id="2988" href="NfModel.html#970" class="InductiveConstructor">here</a>      <a id="2998" class="Symbol">=</a> <a id="3000" href="Function.html#1058" class="Function">id</a>
<a id="3003" href="NfModel.html#2864" class="Function">trans∈</a> <a id="3010" class="Symbol">(</a><a id="3011" href="NfModel.html#502" class="InductiveConstructor">falseC</a> <a id="3018" href="NfModel.html#3018" class="Bound">t</a><a id="3019" class="Symbol">)</a>  <a id="3022" href="NfModel.html#3022" class="Bound">f</a> <a id="3024" class="Symbol">()</a>
<a id="3027" href="NfModel.html#2864" class="Function">trans∈</a> <a id="3034" class="Symbol">(</a><a id="3035" href="NfModel.html#540" class="InductiveConstructor">orC</a> <a id="3039" href="NfModel.html#3039" class="Bound">t</a> <a id="3041" href="NfModel.html#3041" class="Bound">c</a> <a id="3043" href="NfModel.html#3043" class="Bound">d</a><a id="3044" class="Symbol">)</a> <a id="3046" href="NfModel.html#3046" class="Bound">f</a> <a id="3048" class="Symbol">(</a><a id="3049" href="NfModel.html#993" class="InductiveConstructor">left</a>  <a id="3055" href="NfModel.html#3055" class="Bound">e</a><a id="3056" class="Symbol">)</a> <a id="3058" class="Symbol">=</a> <a id="3060" href="NfModel.html#993" class="InductiveConstructor">left</a>  <a id="3066" href="Function.html#759" class="Function Operator">∘</a> <a id="3068" href="NfModel.html#2864" class="Function">trans∈</a> <a id="3075" href="NfModel.html#3041" class="Bound">c</a> <a id="3077" class="Symbol">(</a><a id="3078" href="NfModel.html#3046" class="Bound">f</a> <a id="3080" href="Function.html#759" class="Function Operator">∘</a> <a id="3082" href="NfModel.html#993" class="InductiveConstructor">left</a> <a id="3087" class="Symbol">)</a> <a id="3089" href="NfModel.html#3055" class="Bound">e</a>
<a id="3091" href="NfModel.html#2864" class="Function">trans∈</a> <a id="3098" class="Symbol">(</a><a id="3099" href="NfModel.html#540" class="InductiveConstructor">orC</a> <a id="3103" href="NfModel.html#3103" class="Bound">t</a> <a id="3105" href="NfModel.html#3105" class="Bound">c</a> <a id="3107" href="NfModel.html#3107" class="Bound">d</a><a id="3108" class="Symbol">)</a> <a id="3110" href="NfModel.html#3110" class="Bound">f</a> <a id="3112" class="Symbol">(</a><a id="3113" href="NfModel.html#1063" class="InductiveConstructor">right</a> <a id="3119" href="NfModel.html#3119" class="Bound">e</a><a id="3120" class="Symbol">)</a> <a id="3122" class="Symbol">=</a> <a id="3124" href="NfModel.html#1063" class="InductiveConstructor">right</a> <a id="3130" href="Function.html#759" class="Function Operator">∘</a> <a id="3132" href="NfModel.html#2864" class="Function">trans∈</a> <a id="3139" href="NfModel.html#3107" class="Bound">d</a> <a id="3141" class="Symbol">(</a><a id="3142" href="NfModel.html#3110" class="Bound">f</a> <a id="3144" href="Function.html#759" class="Function Operator">∘</a> <a id="3146" href="NfModel.html#1063" class="InductiveConstructor">right</a><a id="3151" class="Symbol">)</a> <a id="3153" href="NfModel.html#3119" class="Bound">e</a>

<a id="3156" class="Comment">-- Splitting of pathes.</a>

<a id="3181" class="Comment">-- In a situation similar to the previous lemma:</a>
<a id="3230" class="Comment">-- If we have a path q : Φ ∈ transC c f we can split it into some</a>
<a id="3296" class="Comment">-- e : Δ ∈ c and p : Φ ∈ f e.</a>

<a id="split∈"></a><a id="3327" href="NfModel.html#3327" class="Function">split∈</a> <a id="3334" class="Symbol">:</a> <a id="3336" class="Symbol">∀{</a><a id="3338" href="NfModel.html#3338" class="Bound">Γ</a><a id="3339" class="Symbol">}</a> <a id="3341" class="Symbol">(</a><a id="3342" href="NfModel.html#3342" class="Bound">c</a> <a id="3344" class="Symbol">:</a> <a id="3346" href="NfModel.html#453" class="Datatype">Cover</a> <a id="3352" href="NfModel.html#3338" class="Bound">Γ</a><a id="3353" class="Symbol">)</a> <a id="3355" class="Symbol">(</a><a id="3356" href="NfModel.html#3356" class="Bound">f</a> <a id="3358" class="Symbol">:</a> <a id="3360" href="NfModel.html#1298" class="Function">All</a> <a id="3364" href="NfModel.html#3342" class="Bound">c</a> <a id="3366" href="NfModel.html#453" class="Datatype">Cover</a><a id="3371" class="Symbol">)</a> <a id="3373" class="Symbol">{</a><a id="3374" href="NfModel.html#3374" class="Bound">Φ</a><a id="3375" class="Symbol">}</a> <a id="3377" class="Symbol">(</a><a id="3378" href="NfModel.html#3378" class="Bound">q</a> <a id="3380" class="Symbol">:</a> <a id="3382" href="NfModel.html#3374" class="Bound">Φ</a> <a id="3384" href="NfModel.html#922" class="Datatype Operator">∈</a> <a id="3386" href="NfModel.html#2280" class="Function">transC</a> <a id="3393" href="NfModel.html#3342" class="Bound">c</a> <a id="3395" href="NfModel.html#3356" class="Bound">f</a><a id="3396" class="Symbol">)</a>
  <a id="3400" class="Symbol">→</a> <a id="3402" href="Data.Product.html#880" class="Function">∃</a> <a id="3404" class="Symbol">λ</a> <a id="3406" href="NfModel.html#3406" class="Bound">Δ</a> <a id="3408" class="Symbol">→</a> <a id="3410" href="Data.Product.html#880" class="Function">∃</a> <a id="3412" class="Symbol">λ</a> <a id="3414" class="Symbol">(</a><a id="3415" href="NfModel.html#3415" class="Bound">e</a> <a id="3417" class="Symbol">:</a> <a id="3419" href="NfModel.html#3406" class="Bound">Δ</a> <a id="3421" href="NfModel.html#922" class="Datatype Operator">∈</a> <a id="3423" href="NfModel.html#3342" class="Bound">c</a><a id="3424" class="Symbol">)</a> <a id="3426" class="Symbol">→</a> <a id="3428" href="NfModel.html#3374" class="Bound">Φ</a> <a id="3430" href="NfModel.html#922" class="Datatype Operator">∈</a> <a id="3432" href="NfModel.html#3356" class="Bound">f</a> <a id="3434" href="NfModel.html#3415" class="Bound">e</a>
<a id="3436" href="NfModel.html#3327" class="Function">split∈</a> <a id="3443" href="NfModel.html#483" class="InductiveConstructor">hole</a>        <a id="3455" href="NfModel.html#3455" class="Bound">f</a> <a id="3457" href="NfModel.html#3457" class="Bound">q</a> <a id="3459" class="Symbol">=</a> <a id="3461" class="Symbol">_</a> <a id="3463" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3465" class="Symbol">_</a> <a id="3467" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3469" href="NfModel.html#3457" class="Bound">q</a>
<a id="3471" href="NfModel.html#3327" class="Function">split∈</a> <a id="3478" class="Symbol">(</a><a id="3479" href="NfModel.html#502" class="InductiveConstructor">falseC</a> <a id="3486" href="NfModel.html#3486" class="Bound">t</a><a id="3487" class="Symbol">)</a>  <a id="3490" href="NfModel.html#3490" class="Bound">f</a> <a id="3492" class="Symbol">()</a>
<a id="3495" href="NfModel.html#3327" class="Function">split∈</a> <a id="3502" class="Symbol">(</a><a id="3503" href="NfModel.html#540" class="InductiveConstructor">orC</a> <a id="3507" href="NfModel.html#3507" class="Bound">t</a> <a id="3509" href="NfModel.html#3509" class="Bound">c</a> <a id="3511" href="NfModel.html#3511" class="Bound">d</a><a id="3512" class="Symbol">)</a> <a id="3514" href="NfModel.html#3514" class="Bound">f</a> <a id="3516" class="Symbol">(</a><a id="3517" href="NfModel.html#993" class="InductiveConstructor">left</a> <a id="3522" href="NfModel.html#3522" class="Bound">q</a><a id="3523" class="Symbol">)</a> <a id="3525" class="Keyword">with</a> <a id="3530" href="NfModel.html#3327" class="Function">split∈</a> <a id="3537" href="NfModel.html#3509" class="Bound">c</a> <a id="3539" class="Symbol">(</a><a id="3540" href="NfModel.html#3514" class="Bound">f</a> <a id="3542" href="Function.html#759" class="Function Operator">∘</a> <a id="3544" href="NfModel.html#993" class="InductiveConstructor">left</a><a id="3548" class="Symbol">)</a> <a id="3550" href="NfModel.html#3522" class="Bound">q</a>
<a id="3552" class="Symbol">...</a> <a id="3556" class="Symbol">|</a> <a id="3558" href="NfModel.html#3558" class="Bound">Δ</a> <a id="3560" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3562" href="NfModel.html#3562" class="Bound">e₁</a> <a id="3565" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3567" href="NfModel.html#3567" class="Bound">e₂</a> <a id="3570" class="Symbol">=</a> <a id="3572" href="NfModel.html#3558" class="Bound">Δ</a> <a id="3574" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3576" href="NfModel.html#993" class="InductiveConstructor">left</a> <a id="3581" href="NfModel.html#3562" class="Bound">e₁</a> <a id="3584" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3586" href="NfModel.html#3567" class="Bound">e₂</a>
<a id="3589" href="NfModel.html#3327" class="Function">split∈</a> <a id="3596" class="Symbol">(</a><a id="3597" href="NfModel.html#540" class="InductiveConstructor">orC</a> <a id="3601" href="NfModel.html#3601" class="Bound">t</a> <a id="3603" href="NfModel.html#3603" class="Bound">c</a> <a id="3605" href="NfModel.html#3605" class="Bound">d</a><a id="3606" class="Symbol">)</a> <a id="3608" href="NfModel.html#3608" class="Bound">f</a> <a id="3610" class="Symbol">(</a><a id="3611" href="NfModel.html#1063" class="InductiveConstructor">right</a> <a id="3617" href="NfModel.html#3617" class="Bound">q</a><a id="3618" class="Symbol">)</a> <a id="3620" class="Keyword">with</a> <a id="3625" href="NfModel.html#3327" class="Function">split∈</a> <a id="3632" href="NfModel.html#3605" class="Bound">d</a> <a id="3634" class="Symbol">(</a><a id="3635" href="NfModel.html#3608" class="Bound">f</a> <a id="3637" href="Function.html#759" class="Function Operator">∘</a> <a id="3639" href="NfModel.html#1063" class="InductiveConstructor">right</a><a id="3644" class="Symbol">)</a> <a id="3646" href="NfModel.html#3617" class="Bound">q</a>
<a id="3648" class="Symbol">...</a> <a id="3652" class="Symbol">|</a> <a id="3654" href="NfModel.html#3654" class="Bound">Δ</a> <a id="3656" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3658" href="NfModel.html#3658" class="Bound">e₁</a> <a id="3661" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3663" href="NfModel.html#3663" class="Bound">e₂</a> <a id="3666" class="Symbol">=</a> <a id="3668" href="NfModel.html#3654" class="Bound">Δ</a> <a id="3670" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3672" href="NfModel.html#1063" class="InductiveConstructor">right</a> <a id="3678" href="NfModel.html#3658" class="Bound">e₁</a> <a id="3681" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3683" href="NfModel.html#3663" class="Bound">e₂</a>

<a id="3687" class="Comment">-- Syntactic paste (from Thorsten).</a>

<a id="3724" class="Comment">-- If for each leave e : Δ ∈ c of a case tree c : Cover Γ we have a normal form</a>
<a id="3804" class="Comment">-- f e : Nf Δ A  of type A, grafting these nfs onto c gives us a  Nf Γ A.</a>

<a id="pasteNf"></a><a id="3879" href="NfModel.html#3879" class="Function">pasteNf</a> <a id="3887" class="Symbol">:</a> <a id="3889" class="Symbol">∀{</a><a id="3891" href="NfModel.html#3891" class="Bound">A</a> <a id="3893" href="NfModel.html#3893" class="Bound">Γ</a><a id="3894" class="Symbol">}</a> <a id="3896" class="Symbol">(</a><a id="3897" href="NfModel.html#3897" class="Bound">c</a> <a id="3899" class="Symbol">:</a> <a id="3901" href="NfModel.html#453" class="Datatype">Cover</a> <a id="3907" href="NfModel.html#3893" class="Bound">Γ</a><a id="3908" class="Symbol">)</a> <a id="3910" class="Symbol">(</a><a id="3911" href="NfModel.html#3911" class="Bound">f</a> <a id="3913" class="Symbol">:</a> <a id="3915" href="NfModel.html#1298" class="Function">All</a> <a id="3919" href="NfModel.html#3897" class="Bound">c</a> <a id="3921" class="Symbol">λ</a> <a id="3923" href="NfModel.html#3923" class="Bound">Δ</a> <a id="3925" class="Symbol">→</a> <a id="3927" href="Derivations.html#3373" class="Datatype">Nf</a> <a id="3930" href="NfModel.html#3923" class="Bound">Δ</a> <a id="3932" href="NfModel.html#3891" class="Bound">A</a><a id="3933" class="Symbol">)</a> <a id="3935" class="Symbol">→</a> <a id="3937" href="Derivations.html#3373" class="Datatype">Nf</a> <a id="3940" href="NfModel.html#3893" class="Bound">Γ</a> <a id="3942" href="NfModel.html#3891" class="Bound">A</a>
<a id="3944" href="NfModel.html#3879" class="Function">pasteNf</a> <a id="3952" href="NfModel.html#483" class="InductiveConstructor">hole</a>        <a id="3964" href="NfModel.html#3964" class="Bound">f</a> <a id="3966" class="Symbol">=</a> <a id="3968" href="NfModel.html#3964" class="Bound">f</a> <a id="3970" href="NfModel.html#970" class="InductiveConstructor">here</a>
<a id="3975" href="NfModel.html#3879" class="Function">pasteNf</a> <a id="3983" class="Symbol">(</a><a id="3984" href="NfModel.html#502" class="InductiveConstructor">falseC</a> <a id="3991" href="NfModel.html#3991" class="Bound">t</a><a id="3992" class="Symbol">)</a>  <a id="3995" href="NfModel.html#3995" class="Bound">f</a> <a id="3997" class="Symbol">=</a> <a id="3999" href="Derivations.html#3835" class="InductiveConstructor">falseE</a> <a id="4006" href="NfModel.html#3991" class="Bound">t</a>
<a id="4008" href="NfModel.html#3879" class="Function">pasteNf</a> <a id="4016" class="Symbol">(</a><a id="4017" href="NfModel.html#540" class="InductiveConstructor">orC</a> <a id="4021" href="NfModel.html#4021" class="Bound">t</a> <a id="4023" href="NfModel.html#4023" class="Bound">c</a> <a id="4025" href="NfModel.html#4025" class="Bound">d</a><a id="4026" class="Symbol">)</a> <a id="4028" href="NfModel.html#4028" class="Bound">f</a> <a id="4030" class="Symbol">=</a> <a id="4032" href="Derivations.html#3747" class="InductiveConstructor">orE</a> <a id="4036" href="NfModel.html#4021" class="Bound">t</a> <a id="4038" class="Symbol">(</a><a id="4039" href="NfModel.html#3879" class="Function">pasteNf</a> <a id="4047" href="NfModel.html#4023" class="Bound">c</a> <a id="4049" class="Symbol">(</a><a id="4050" href="NfModel.html#4028" class="Bound">f</a> <a id="4052" href="Function.html#759" class="Function Operator">∘</a> <a id="4054" href="NfModel.html#993" class="InductiveConstructor">left</a><a id="4058" class="Symbol">))</a> <a id="4061" class="Symbol">(</a><a id="4062" href="NfModel.html#3879" class="Function">pasteNf</a> <a id="4070" href="NfModel.html#4025" class="Bound">d</a> <a id="4072" class="Symbol">(</a><a id="4073" href="NfModel.html#4028" class="Bound">f</a> <a id="4075" href="Function.html#759" class="Function Operator">∘</a> <a id="4077" href="NfModel.html#1063" class="InductiveConstructor">right</a><a id="4082" class="Symbol">))</a>

<a id="4086" class="Comment">-- Weakening covers:  A case tree in Γ can be transported to a thinning Δ</a>
<a id="4160" class="Comment">-- by weakening all the scrutinees.</a>

<a id="4197" class="Comment">-- monC : ∀{Γ Δ} (τ : Δ ≤ Γ) (c : Cover Γ) → Cover Δ</a>
<a id="monC"></a><a id="4250" href="NfModel.html#4250" class="Function">monC</a> <a id="4255" class="Symbol">:</a> <a id="4257" href="Formulas.html#2741" class="Function">Mon</a> <a id="4261" href="NfModel.html#453" class="Datatype">Cover</a>
<a id="4267" href="NfModel.html#4250" class="Function">monC</a> <a id="4272" href="NfModel.html#4272" class="Bound">τ</a> <a id="4274" href="NfModel.html#483" class="InductiveConstructor">hole</a>        <a id="4286" class="Symbol">=</a> <a id="4288" href="NfModel.html#483" class="InductiveConstructor">hole</a>
<a id="4293" href="NfModel.html#4250" class="Function">monC</a> <a id="4298" href="NfModel.html#4298" class="Bound">τ</a> <a id="4300" class="Symbol">(</a><a id="4301" href="NfModel.html#502" class="InductiveConstructor">falseC</a> <a id="4308" href="NfModel.html#4308" class="Bound">t</a><a id="4309" class="Symbol">)</a>  <a id="4312" class="Symbol">=</a> <a id="4314" href="NfModel.html#502" class="InductiveConstructor">falseC</a> <a id="4321" class="Symbol">(</a><a id="4322" href="Derivations.html#4297" class="Function">monNe</a> <a id="4328" href="NfModel.html#4298" class="Bound">τ</a> <a id="4330" href="NfModel.html#4308" class="Bound">t</a><a id="4331" class="Symbol">)</a>
<a id="4333" href="NfModel.html#4250" class="Function">monC</a> <a id="4338" href="NfModel.html#4338" class="Bound">τ</a> <a id="4340" class="Symbol">(</a><a id="4341" href="NfModel.html#540" class="InductiveConstructor">orC</a> <a id="4345" href="NfModel.html#4345" class="Bound">t</a> <a id="4347" href="NfModel.html#4347" class="Bound">c</a> <a id="4349" href="NfModel.html#4349" class="Bound">d</a><a id="4350" class="Symbol">)</a> <a id="4352" class="Symbol">=</a> <a id="4354" href="NfModel.html#540" class="InductiveConstructor">orC</a> <a id="4358" class="Symbol">(</a><a id="4359" href="Derivations.html#4297" class="Function">monNe</a> <a id="4365" href="NfModel.html#4338" class="Bound">τ</a> <a id="4367" href="NfModel.html#4345" class="Bound">t</a><a id="4368" class="Symbol">)</a> <a id="4370" class="Symbol">(</a><a id="4371" href="NfModel.html#4250" class="Function">monC</a> <a id="4376" class="Symbol">(</a><a id="4377" href="Formulas.html#590" class="InductiveConstructor">lift</a> <a id="4382" href="NfModel.html#4338" class="Bound">τ</a><a id="4383" class="Symbol">)</a> <a id="4385" href="NfModel.html#4347" class="Bound">c</a><a id="4386" class="Symbol">)</a> <a id="4388" class="Symbol">(</a><a id="4389" href="NfModel.html#4250" class="Function">monC</a> <a id="4394" class="Symbol">(</a><a id="4395" href="Formulas.html#590" class="InductiveConstructor">lift</a> <a id="4400" href="NfModel.html#4338" class="Bound">τ</a><a id="4401" class="Symbol">)</a> <a id="4403" href="NfModel.html#4349" class="Bound">d</a><a id="4404" class="Symbol">)</a>

<a id="4407" class="Comment">-- Undoing a weakening on a path.</a>
<a id="4441" class="Comment">--</a>
<a id="4444" class="Comment">-- If we have a path  e : Φ ∈ monC τ c  in a case tree  c : Cover Γ  transported</a>
<a id="4525" class="Comment">-- to Δ via thinning  τ : Δ ≤ Γ, we also get a path  e&#39; : Ψ ∈ c  in the original</a>
<a id="4606" class="Comment">-- case tree c such that Ψ is a strenthening of Φ  (Φ ≤ Ψ).</a>

<a id="mon∈"></a><a id="4667" href="NfModel.html#4667" class="Function">mon∈</a> <a id="4672" class="Symbol">:</a> <a id="4674" class="Symbol">∀{</a><a id="4676" href="NfModel.html#4676" class="Bound">Γ</a> <a id="4678" href="NfModel.html#4678" class="Bound">Δ</a> <a id="4680" href="NfModel.html#4680" class="Bound">Φ</a><a id="4681" class="Symbol">}</a> <a id="4683" class="Symbol">(</a><a id="4684" href="NfModel.html#4684" class="Bound">c</a> <a id="4686" class="Symbol">:</a> <a id="4688" href="NfModel.html#453" class="Datatype">Cover</a> <a id="4694" href="NfModel.html#4676" class="Bound">Γ</a><a id="4695" class="Symbol">)</a> <a id="4697" class="Symbol">(</a><a id="4698" href="NfModel.html#4698" class="Bound">τ</a> <a id="4700" class="Symbol">:</a> <a id="4702" href="NfModel.html#4678" class="Bound">Δ</a> <a id="4704" href="Formulas.html#495" class="Datatype Operator">≤</a> <a id="4706" href="NfModel.html#4676" class="Bound">Γ</a><a id="4707" class="Symbol">)</a> <a id="4709" class="Symbol">(</a><a id="4710" href="NfModel.html#4710" class="Bound">e</a> <a id="4712" class="Symbol">:</a> <a id="4714" href="NfModel.html#4680" class="Bound">Φ</a> <a id="4716" href="NfModel.html#922" class="Datatype Operator">∈</a> <a id="4718" href="NfModel.html#4250" class="Function">monC</a> <a id="4723" href="NfModel.html#4698" class="Bound">τ</a> <a id="4725" href="NfModel.html#4684" class="Bound">c</a><a id="4726" class="Symbol">)</a> <a id="4728" class="Symbol">→</a> <a id="4730" href="Data.Product.html#880" class="Function">∃</a> <a id="4732" class="Symbol">λ</a> <a id="4734" href="NfModel.html#4734" class="Bound">Ψ</a> <a id="4736" class="Symbol">→</a> <a id="4738" href="NfModel.html#4734" class="Bound">Ψ</a> <a id="4740" href="NfModel.html#922" class="Datatype Operator">∈</a> <a id="4742" href="NfModel.html#4684" class="Bound">c</a> <a id="4744" href="Data.Product.html#1352" class="Function Operator">×</a> <a id="4746" href="NfModel.html#4680" class="Bound">Φ</a> <a id="4748" href="Formulas.html#495" class="Datatype Operator">≤</a> <a id="4750" href="NfModel.html#4734" class="Bound">Ψ</a>
<a id="4752" href="NfModel.html#4667" class="Function">mon∈</a>  <a id="4758" href="NfModel.html#483" class="InductiveConstructor">hole</a> <a id="4763" href="NfModel.html#4763" class="Bound">τ</a> <a id="4765" href="NfModel.html#970" class="InductiveConstructor">here</a> <a id="4770" class="Symbol">=</a> <a id="4772" class="Symbol">_</a> <a id="4774" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4776" href="NfModel.html#970" class="InductiveConstructor">here</a> <a id="4781" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4783" href="NfModel.html#4763" class="Bound">τ</a>
<a id="4785" href="NfModel.html#4667" class="Function">mon∈</a> <a id="4790" class="Symbol">(</a><a id="4791" href="NfModel.html#502" class="InductiveConstructor">falseC</a> <a id="4798" href="NfModel.html#4798" class="Bound">t</a><a id="4799" class="Symbol">)</a>  <a id="4802" href="NfModel.html#4802" class="Bound">τ</a> <a id="4804" class="Symbol">()</a>
<a id="4807" href="NfModel.html#4667" class="Function">mon∈</a> <a id="4812" class="Symbol">(</a><a id="4813" href="NfModel.html#540" class="InductiveConstructor">orC</a> <a id="4817" href="NfModel.html#4817" class="Bound">t</a> <a id="4819" href="NfModel.html#4819" class="Bound">c</a> <a id="4821" href="NfModel.html#4821" class="Bound">d</a><a id="4822" class="Symbol">)</a> <a id="4824" href="NfModel.html#4824" class="Bound">τ</a> <a id="4826" class="Symbol">(</a><a id="4827" href="NfModel.html#993" class="InductiveConstructor">left</a> <a id="4832" href="NfModel.html#4832" class="Bound">e</a><a id="4833" class="Symbol">)</a>  <a id="4836" class="Keyword">with</a> <a id="4841" href="NfModel.html#4667" class="Function">mon∈</a> <a id="4846" href="NfModel.html#4819" class="Bound">c</a> <a id="4848" class="Symbol">(</a><a id="4849" href="Formulas.html#590" class="InductiveConstructor">lift</a> <a id="4854" href="NfModel.html#4824" class="Bound">τ</a><a id="4855" class="Symbol">)</a> <a id="4857" href="NfModel.html#4832" class="Bound">e</a>
<a id="4859" class="Symbol">...</a> <a id="4863" class="Symbol">|</a> <a id="4865" href="NfModel.html#4865" class="Bound">Ψ</a> <a id="4867" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4869" href="NfModel.html#4869" class="Bound">e&#39;</a> <a id="4872" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4874" href="NfModel.html#4874" class="Bound">σ</a> <a id="4876" class="Symbol">=</a> <a id="4878" href="NfModel.html#4865" class="Bound">Ψ</a> <a id="4880" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4882" href="NfModel.html#993" class="InductiveConstructor">left</a> <a id="4887" href="NfModel.html#4869" class="Bound">e&#39;</a> <a id="4890" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4892" href="NfModel.html#4874" class="Bound">σ</a>
<a id="4894" href="NfModel.html#4667" class="Function">mon∈</a> <a id="4899" class="Symbol">(</a><a id="4900" href="NfModel.html#540" class="InductiveConstructor">orC</a> <a id="4904" href="NfModel.html#4904" class="Bound">t</a> <a id="4906" href="NfModel.html#4906" class="Bound">c</a> <a id="4908" href="NfModel.html#4908" class="Bound">d</a><a id="4909" class="Symbol">)</a> <a id="4911" href="NfModel.html#4911" class="Bound">τ</a> <a id="4913" class="Symbol">(</a><a id="4914" href="NfModel.html#1063" class="InductiveConstructor">right</a> <a id="4920" href="NfModel.html#4920" class="Bound">e</a><a id="4921" class="Symbol">)</a> <a id="4923" class="Keyword">with</a> <a id="4928" href="NfModel.html#4667" class="Function">mon∈</a> <a id="4933" href="NfModel.html#4908" class="Bound">d</a> <a id="4935" class="Symbol">(</a><a id="4936" href="Formulas.html#590" class="InductiveConstructor">lift</a> <a id="4941" href="NfModel.html#4911" class="Bound">τ</a><a id="4942" class="Symbol">)</a> <a id="4944" href="NfModel.html#4920" class="Bound">e</a>
<a id="4946" class="Symbol">...</a> <a id="4950" class="Symbol">|</a> <a id="4952" href="NfModel.html#4952" class="Bound">Ψ</a> <a id="4954" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4956" href="NfModel.html#4956" class="Bound">e&#39;</a> <a id="4959" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4961" href="NfModel.html#4961" class="Bound">σ</a> <a id="4963" class="Symbol">=</a> <a id="4965" href="NfModel.html#4952" class="Bound">Ψ</a> <a id="4967" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4969" href="NfModel.html#1063" class="InductiveConstructor">right</a> <a id="4975" href="NfModel.html#4956" class="Bound">e&#39;</a> <a id="4978" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4980" href="NfModel.html#4961" class="Bound">σ</a>

<a id="4983" class="Comment">-- Packaging a case tree with its valuation.</a>

<a id="CovExt"></a><a id="5029" href="NfModel.html#5029" class="Function">CovExt</a> <a id="5036" class="Symbol">:</a> <a id="5038" class="Symbol">(</a><a id="5039" href="NfModel.html#5039" class="Bound">Γ</a> <a id="5041" class="Symbol">:</a> <a id="5043" href="Formulas.html#368" class="Datatype">Cxt</a><a id="5046" class="Symbol">)</a> <a id="5048" class="Symbol">(</a><a id="5049" href="NfModel.html#5049" class="Bound">P</a> <a id="5051" class="Symbol">:</a> <a id="5053" href="Formulas.html#368" class="Datatype">Cxt</a> <a id="5057" class="Symbol">→</a> <a id="5059" class="PrimitiveType">Set</a><a id="5062" class="Symbol">)</a> <a id="5064" class="Symbol">→</a> <a id="5066" class="PrimitiveType">Set</a>
<a id="5070" href="NfModel.html#5029" class="Function">CovExt</a> <a id="5077" href="NfModel.html#5077" class="Bound">Γ</a> <a id="5079" href="NfModel.html#5079" class="Bound">P</a> <a id="5081" class="Symbol">=</a> <a id="5083" href="Agda.Builtin.Sigma.html#69" class="Record">Σ</a> <a id="5085" class="Symbol">(</a><a id="5086" href="NfModel.html#453" class="Datatype">Cover</a> <a id="5092" href="NfModel.html#5077" class="Bound">Γ</a><a id="5093" class="Symbol">)</a> <a id="5095" class="Symbol">λ</a> <a id="5097" href="NfModel.html#5097" class="Bound">c</a> <a id="5099" class="Symbol">→</a> <a id="5101" href="NfModel.html#1298" class="Function">All</a> <a id="5105" href="NfModel.html#5097" class="Bound">c</a> <a id="5107" href="NfModel.html#5079" class="Bound">P</a>

<a id="transCE"></a><a id="5110" href="NfModel.html#5110" class="Function">transCE</a> <a id="5118" class="Symbol">:</a> <a id="5120" class="Symbol">∀</a> <a id="5122" class="Symbol">{</a><a id="5123" href="NfModel.html#5123" class="Bound">P</a> <a id="5125" href="NfModel.html#5125" class="Bound">Γ</a><a id="5126" class="Symbol">}</a> <a id="5128" class="Symbol">(</a><a id="5129" href="NfModel.html#5129" class="Bound">c</a> <a id="5131" class="Symbol">:</a> <a id="5133" href="NfModel.html#453" class="Datatype">Cover</a> <a id="5139" href="NfModel.html#5125" class="Bound">Γ</a><a id="5140" class="Symbol">)</a> <a id="5142" class="Symbol">(</a><a id="5143" href="NfModel.html#5143" class="Bound">f</a> <a id="5145" class="Symbol">:</a> <a id="5147" href="NfModel.html#1298" class="Function">All</a> <a id="5151" href="NfModel.html#5129" class="Bound">c</a> <a id="5153" class="Symbol">λ</a> <a id="5155" href="NfModel.html#5155" class="Bound">Δ</a> <a id="5157" class="Symbol">→</a> <a id="5159" href="NfModel.html#5029" class="Function">CovExt</a> <a id="5166" href="NfModel.html#5155" class="Bound">Δ</a> <a id="5168" href="NfModel.html#5123" class="Bound">P</a><a id="5169" class="Symbol">)</a> <a id="5171" class="Symbol">→</a> <a id="5173" href="NfModel.html#5029" class="Function">CovExt</a> <a id="5180" href="NfModel.html#5125" class="Bound">Γ</a> <a id="5182" href="NfModel.html#5123" class="Bound">P</a>
<a id="5184" href="NfModel.html#5110" class="Function">transCE</a> <a id="5192" href="NfModel.html#5192" class="Bound">c</a> <a id="5194" href="NfModel.html#5194" class="Bound">f</a> <a id="5196" class="Symbol">=</a> <a id="5198" href="NfModel.html#2280" class="Function">transC</a> <a id="5205" href="NfModel.html#5192" class="Bound">c</a> <a id="5207" class="Symbol">(</a><a id="5208" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="5214" href="Function.html#759" class="Function Operator">∘</a> <a id="5216" href="NfModel.html#5194" class="Bound">f</a><a id="5217" class="Symbol">)</a> <a id="5219" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5221" class="Symbol">λ</a> <a id="5223" href="NfModel.html#5223" class="Bound">e</a> <a id="5225" class="Symbol">→</a>
  <a id="5229" class="Keyword">let</a> <a id="5233" class="Symbol">_</a> <a id="5235" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5237" href="NfModel.html#5237" class="Bound">e₁</a> <a id="5240" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5242" href="NfModel.html#5242" class="Bound">e₂</a> <a id="5245" class="Symbol">=</a> <a id="5247" href="NfModel.html#3327" class="Function">split∈</a> <a id="5254" href="NfModel.html#5192" class="Bound">c</a> <a id="5256" class="Symbol">(</a><a id="5257" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="5263" href="Function.html#759" class="Function Operator">∘</a> <a id="5265" href="NfModel.html#5194" class="Bound">f</a><a id="5266" class="Symbol">)</a> <a id="5268" href="NfModel.html#5223" class="Bound">e</a>
  <a id="5272" class="Keyword">in</a>  <a id="5276" href="NfModel.html#5194" class="Bound">f</a> <a id="5278" href="NfModel.html#5237" class="Bound">e₁</a> <a id="5281" class="Symbol">.</a><a id="5282" href="Agda.Builtin.Sigma.html#167" class="Field">proj₂</a> <a id="5288" href="NfModel.html#5242" class="Bound">e₂</a>

<a id="monCE"></a><a id="5292" href="NfModel.html#5292" class="Function">monCE</a> <a id="5298" class="Symbol">:</a> <a id="5300" class="Symbol">∀{</a><a id="5302" href="NfModel.html#5302" class="Bound">P</a><a id="5303" class="Symbol">}</a> <a id="5305" class="Symbol">→</a> <a id="5307" href="Formulas.html#2741" class="Function">Mon</a> <a id="5311" href="NfModel.html#5302" class="Bound">P</a> <a id="5313" class="Symbol">→</a> <a id="5315" href="Formulas.html#2741" class="Function">Mon</a> <a id="5319" class="Symbol">λ</a> <a id="5321" href="NfModel.html#5321" class="Bound">Γ</a> <a id="5323" class="Symbol">→</a> <a id="5325" href="NfModel.html#5029" class="Function">CovExt</a> <a id="5332" href="NfModel.html#5321" class="Bound">Γ</a> <a id="5334" href="NfModel.html#5302" class="Bound">P</a>
<a id="5336" href="NfModel.html#5292" class="Function">monCE</a> <a id="5342" href="NfModel.html#5342" class="Bound">monP</a> <a id="5347" href="NfModel.html#5347" class="Bound">τ</a> <a id="5349" class="Symbol">(</a><a id="5350" href="NfModel.html#5350" class="Bound">c</a> <a id="5352" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5354" href="NfModel.html#5354" class="Bound">f</a><a id="5355" class="Symbol">)</a> <a id="5357" class="Symbol">=</a> <a id="5359" href="NfModel.html#4250" class="Function">monC</a> <a id="5364" href="NfModel.html#5347" class="Bound">τ</a> <a id="5366" href="NfModel.html#5350" class="Bound">c</a> <a id="5368" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a>  <a id="5371" class="Symbol">λ</a> <a id="5373" class="Symbol">{</a><a id="5374" href="NfModel.html#5374" class="Bound">Φ</a><a id="5375" class="Symbol">}</a> <a id="5377" href="NfModel.html#5377" class="Bound">e</a> <a id="5379" class="Symbol">→</a>
  <a id="5383" class="Keyword">let</a> <a id="5387" href="NfModel.html#5387" class="Bound">Ψ</a> <a id="5389" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5391" href="NfModel.html#5391" class="Bound">e&#39;</a> <a id="5394" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5396" href="NfModel.html#5396" class="Bound">σ</a> <a id="5398" class="Symbol">=</a> <a id="5400" href="NfModel.html#4667" class="Function">mon∈</a> <a id="5405" href="NfModel.html#5350" class="Bound">c</a> <a id="5407" href="NfModel.html#5347" class="Bound">τ</a> <a id="5409" href="NfModel.html#5377" class="Bound">e</a>
  <a id="5413" class="Keyword">in</a>  <a id="5417" href="NfModel.html#5342" class="Bound">monP</a> <a id="5422" href="NfModel.html#5396" class="Bound">σ</a> <a id="5424" class="Symbol">(</a><a id="5425" href="NfModel.html#5354" class="Bound">f</a> <a id="5427" class="Symbol">{</a><a id="5428" href="NfModel.html#5387" class="Bound">Ψ</a><a id="5429" class="Symbol">}</a> <a id="5431" href="NfModel.html#5391" class="Bound">e&#39;</a><a id="5433" class="Symbol">)</a>

<a id="5436" class="Comment">-- The syntactic Beth model.</a>

<a id="5466" class="Comment">-- We interpret base propositions  Atom P  by their normal deriviations.</a>
<a id="5539" class="Comment">-- (&quot;Normal&quot; is important; &quot;neutral is not sufficient since we need case trees here.)</a>

<a id="5626" class="Comment">-- The negative connectives True, ∧, and ⇒ are explained as usual by η-expansion</a>
<a id="5707" class="Comment">-- and the meta-level connective.</a>

<a id="5742" class="Comment">-- The positive connectives False and ∨ are inhabited by case trees.</a>
<a id="5811" class="Comment">-- In case False, the tree has no leaves.</a>
<a id="5853" class="Comment">-- In case A ∨ B, each leaf must be in the semantics of either A or B.</a>

<a id="T⟦_⟧"></a><a id="5925" href="NfModel.html#5925" class="Function Operator">T⟦_⟧</a> <a id="5930" class="Symbol">:</a> <a id="5932" class="Symbol">(</a><a id="5933" href="NfModel.html#5933" class="Bound">A</a> <a id="5935" class="Symbol">:</a> <a id="5937" href="Formulas.html#157" class="Datatype">Form</a><a id="5941" class="Symbol">)</a> <a id="5943" class="Symbol">(</a><a id="5944" href="NfModel.html#5944" class="Bound">Γ</a> <a id="5946" class="Symbol">:</a> <a id="5948" href="Formulas.html#368" class="Datatype">Cxt</a><a id="5951" class="Symbol">)</a> <a id="5953" class="Symbol">→</a> <a id="5955" class="PrimitiveType">Set</a>
<a id="5959" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="5962" href="Formulas.html#176" class="InductiveConstructor">Atom</a> <a id="5967" href="NfModel.html#5967" class="Bound">P</a> <a id="5969" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="5971" href="NfModel.html#5971" class="Bound">Γ</a> <a id="5973" class="Symbol">=</a> <a id="5975" href="Derivations.html#3373" class="Datatype">Nf</a> <a id="5978" href="NfModel.html#5971" class="Bound">Γ</a> <a id="5980" class="Symbol">(</a><a id="5981" href="Formulas.html#176" class="InductiveConstructor">Atom</a> <a id="5986" href="NfModel.html#5967" class="Bound">P</a><a id="5987" class="Symbol">)</a>
<a id="5989" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="5992" href="Formulas.html#203" class="InductiveConstructor">True</a>   <a id="5999" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="6001" href="NfModel.html#6001" class="Bound">Γ</a> <a id="6003" class="Symbol">=</a> <a id="6005" href="Agda.Builtin.Unit.html#69" class="Record">⊤</a>
<a id="6007" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="6010" href="Formulas.html#208" class="InductiveConstructor">False</a>  <a id="6017" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="6019" href="NfModel.html#6019" class="Bound">Γ</a> <a id="6021" class="Symbol">=</a> <a id="6023" href="NfModel.html#5029" class="Function">CovExt</a> <a id="6030" href="NfModel.html#6019" class="Bound">Γ</a> <a id="6032" class="Symbol">λ</a> <a id="6034" href="NfModel.html#6034" class="Bound">Δ</a> <a id="6036" class="Symbol">→</a> <a id="6038" href="Data.Empty.html#243" class="Datatype">⊥</a>
<a id="6040" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="6043" href="NfModel.html#6043" class="Bound">A</a> <a id="6045" href="Formulas.html#223" class="InductiveConstructor Operator">∨</a> <a id="6047" href="NfModel.html#6047" class="Bound">B</a>  <a id="6050" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="6052" href="NfModel.html#6052" class="Bound">Γ</a> <a id="6054" class="Symbol">=</a> <a id="6056" href="NfModel.html#5029" class="Function">CovExt</a> <a id="6063" href="NfModel.html#6052" class="Bound">Γ</a> <a id="6065" class="Symbol">λ</a> <a id="6067" href="NfModel.html#6067" class="Bound">Δ</a> <a id="6069" class="Symbol">→</a> <a id="6071" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="6074" href="NfModel.html#6043" class="Bound">A</a> <a id="6076" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="6078" href="NfModel.html#6067" class="Bound">Δ</a> <a id="6080" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="6082" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="6085" href="NfModel.html#6047" class="Bound">B</a> <a id="6087" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="6089" href="NfModel.html#6067" class="Bound">Δ</a>
<a id="6091" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="6094" href="NfModel.html#6094" class="Bound">A</a> <a id="6096" href="Formulas.html#227" class="InductiveConstructor Operator">∧</a> <a id="6098" href="NfModel.html#6098" class="Bound">B</a>  <a id="6101" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="6103" href="NfModel.html#6103" class="Bound">Γ</a> <a id="6105" class="Symbol">=</a> <a id="6107" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="6110" href="NfModel.html#6094" class="Bound">A</a> <a id="6112" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="6114" href="NfModel.html#6103" class="Bound">Γ</a> <a id="6116" href="Data.Product.html#1352" class="Function Operator">×</a> <a id="6118" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="6121" href="NfModel.html#6098" class="Bound">B</a> <a id="6123" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="6125" href="NfModel.html#6103" class="Bound">Γ</a>
<a id="6127" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="6130" href="NfModel.html#6130" class="Bound">A</a> <a id="6132" href="Formulas.html#231" class="InductiveConstructor Operator">⇒</a> <a id="6134" href="NfModel.html#6134" class="Bound">B</a>  <a id="6137" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="6139" href="NfModel.html#6139" class="Bound">Γ</a> <a id="6141" class="Symbol">=</a> <a id="6143" class="Symbol">∀{</a><a id="6145" href="NfModel.html#6145" class="Bound">Δ</a><a id="6146" class="Symbol">}</a> <a id="6148" class="Symbol">(</a><a id="6149" href="NfModel.html#6149" class="Bound">τ</a> <a id="6151" class="Symbol">:</a> <a id="6153" href="NfModel.html#6145" class="Bound">Δ</a> <a id="6155" href="Formulas.html#495" class="Datatype Operator">≤</a> <a id="6157" href="NfModel.html#6139" class="Bound">Γ</a><a id="6158" class="Symbol">)</a> <a id="6160" class="Symbol">→</a> <a id="6162" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="6165" href="NfModel.html#6130" class="Bound">A</a> <a id="6167" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="6169" href="NfModel.html#6145" class="Bound">Δ</a> <a id="6171" class="Symbol">→</a> <a id="6173" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="6176" href="NfModel.html#6134" class="Bound">B</a> <a id="6178" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="6180" href="NfModel.html#6145" class="Bound">Δ</a>

<a id="6183" class="Comment">-- Monotonicity of the model is proven by induction on the proposition,</a>
<a id="6255" class="Comment">-- using monotonicity of covers and the built-in monotonicity at implication.</a>

<a id="6334" class="Comment">-- monT : ∀ A {Γ Δ} (τ : Δ ≤ Γ) → T⟦ A ⟧ Γ → T⟦ A ⟧ Δ</a>

<a id="monT"></a><a id="6389" href="NfModel.html#6389" class="Function">monT</a> <a id="6394" class="Symbol">:</a> <a id="6396" class="Symbol">∀</a> <a id="6398" href="NfModel.html#6398" class="Bound">A</a> <a id="6400" class="Symbol">→</a> <a id="6402" href="Formulas.html#2741" class="Function">Mon</a> <a id="6406" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="6409" href="NfModel.html#6398" class="Bound">A</a> <a id="6411" href="NfModel.html#5925" class="Function Operator">⟧</a>
<a id="6413" href="NfModel.html#6389" class="Function">monT</a> <a id="6418" class="Symbol">(</a><a id="6419" href="Formulas.html#176" class="InductiveConstructor">Atom</a> <a id="6424" href="NfModel.html#6424" class="Bound">P</a><a id="6425" class="Symbol">)</a> <a id="6427" class="Symbol">=</a> <a id="6429" href="Derivations.html#4503" class="Function">monNf</a>
<a id="6435" href="NfModel.html#6389" class="Function">monT</a> <a id="6440" href="Formulas.html#203" class="InductiveConstructor">True</a>     <a id="6449" class="Symbol">=</a> <a id="6451" class="Symbol">_</a>
<a id="6453" href="NfModel.html#6389" class="Function">monT</a> <a id="6458" href="Formulas.html#208" class="InductiveConstructor">False</a>    <a id="6467" class="Symbol">=</a> <a id="6469" href="NfModel.html#5292" class="Function">monCE</a> <a id="6475" class="Symbol">λ</a> <a id="6477" href="NfModel.html#6477" class="Bound">τ</a> <a id="6479" class="Symbol">()</a>
<a id="6482" href="NfModel.html#6389" class="Function">monT</a> <a id="6487" class="Symbol">(</a><a id="6488" href="NfModel.html#6488" class="Bound">A</a> <a id="6490" href="Formulas.html#223" class="InductiveConstructor Operator">∨</a> <a id="6492" href="NfModel.html#6492" class="Bound">B</a><a id="6493" class="Symbol">)</a>  <a id="6496" class="Symbol">=</a> <a id="6498" href="NfModel.html#5292" class="Function">monCE</a> <a id="6504" class="Symbol">λ</a> <a id="6506" href="NfModel.html#6506" class="Bound">τ</a> <a id="6508" class="Symbol">→</a> <a id="6510" href="Data.Sum.Base.html#1138" class="Function">map-⊎</a> <a id="6516" class="Symbol">(</a><a id="6517" href="NfModel.html#6389" class="Function">monT</a> <a id="6522" href="NfModel.html#6488" class="Bound">A</a> <a id="6524" href="NfModel.html#6506" class="Bound">τ</a><a id="6525" class="Symbol">)</a> <a id="6527" class="Symbol">(</a><a id="6528" href="NfModel.html#6389" class="Function">monT</a> <a id="6533" href="NfModel.html#6492" class="Bound">B</a> <a id="6535" href="NfModel.html#6506" class="Bound">τ</a><a id="6536" class="Symbol">)</a>
<a id="6538" href="NfModel.html#6389" class="Function">monT</a> <a id="6543" class="Symbol">(</a><a id="6544" href="NfModel.html#6544" class="Bound">A</a> <a id="6546" href="Formulas.html#227" class="InductiveConstructor Operator">∧</a> <a id="6548" href="NfModel.html#6548" class="Bound">B</a><a id="6549" class="Symbol">)</a> <a id="6551" href="NfModel.html#6551" class="Bound">τ</a> <a id="6553" class="Symbol">(</a><a id="6554" href="NfModel.html#6554" class="Bound">a</a> <a id="6556" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6558" href="NfModel.html#6558" class="Bound">b</a><a id="6559" class="Symbol">)</a> <a id="6561" class="Symbol">=</a> <a id="6563" href="NfModel.html#6389" class="Function">monT</a> <a id="6568" href="NfModel.html#6544" class="Bound">A</a> <a id="6570" href="NfModel.html#6551" class="Bound">τ</a> <a id="6572" href="NfModel.html#6554" class="Bound">a</a> <a id="6574" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="6576" href="NfModel.html#6389" class="Function">monT</a> <a id="6581" href="NfModel.html#6548" class="Bound">B</a> <a id="6583" href="NfModel.html#6551" class="Bound">τ</a> <a id="6585" href="NfModel.html#6558" class="Bound">b</a>
<a id="6587" href="NfModel.html#6389" class="Function">monT</a> <a id="6592" class="Symbol">(</a><a id="6593" href="NfModel.html#6593" class="Bound">A</a> <a id="6595" href="Formulas.html#231" class="InductiveConstructor Operator">⇒</a> <a id="6597" href="NfModel.html#6597" class="Bound">B</a><a id="6598" class="Symbol">)</a> <a id="6600" href="NfModel.html#6600" class="Bound">τ</a> <a id="6602" href="NfModel.html#6602" class="Bound">f</a> <a id="6604" href="NfModel.html#6604" class="Bound">σ</a> <a id="6606" class="Symbol">=</a> <a id="6608" href="NfModel.html#6602" class="Bound">f</a> <a id="6610" class="Symbol">(</a><a id="6611" href="NfModel.html#6604" class="Bound">σ</a> <a id="6613" href="Formulas.html#740" class="Function Operator">•</a> <a id="6615" href="NfModel.html#6600" class="Bound">τ</a><a id="6616" class="Symbol">)</a>

<a id="6619" class="Comment">-- Reflection / reification, proven simultaneously by induction on the proposition.</a>

<a id="6704" class="Comment">-- Reflection is η-expansion (and recursively reflection);</a>
<a id="6763" class="Comment">-- at positive connections we build a case tree with a single scrutinee: the neutral</a>
<a id="6848" class="Comment">-- we are reflecting.</a>

<a id="6871" class="Comment">-- At implication, we need reification, which produces introductions</a>
<a id="6940" class="Comment">-- and reifies the stored case trees.</a>

<a id="6979" class="Keyword">mutual</a>

  <a id="reflect"></a><a id="6989" href="NfModel.html#6989" class="Function">reflect</a> <a id="6997" class="Symbol">:</a> <a id="6999" class="Symbol">∀{</a><a id="7001" href="NfModel.html#7001" class="Bound">Γ</a><a id="7002" class="Symbol">}</a> <a id="7004" href="NfModel.html#7004" class="Bound">A</a> <a id="7006" class="Symbol">(</a><a id="7007" href="NfModel.html#7007" class="Bound">t</a> <a id="7009" class="Symbol">:</a> <a id="7011" href="Derivations.html#3137" class="Datatype">Ne</a> <a id="7014" href="NfModel.html#7001" class="Bound">Γ</a> <a id="7016" href="NfModel.html#7004" class="Bound">A</a><a id="7017" class="Symbol">)</a> <a id="7019" class="Symbol">→</a> <a id="7021" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="7024" href="NfModel.html#7004" class="Bound">A</a> <a id="7026" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="7028" href="NfModel.html#7001" class="Bound">Γ</a>
  <a id="7032" href="NfModel.html#6989" class="Function">reflect</a> <a id="7040" class="Symbol">(</a><a id="7041" href="Formulas.html#176" class="InductiveConstructor">Atom</a> <a id="7046" href="NfModel.html#7046" class="Bound">P</a><a id="7047" class="Symbol">)</a> <a id="7049" href="NfModel.html#7049" class="Bound">t</a> <a id="7051" class="Symbol">=</a> <a id="7053" href="Derivations.html#3482" class="InductiveConstructor">ne</a> <a id="7056" href="NfModel.html#7049" class="Bound">t</a>
  <a id="7060" href="NfModel.html#6989" class="Function">reflect</a> <a id="7068" href="Formulas.html#203" class="InductiveConstructor">True</a>     <a id="7077" href="NfModel.html#7077" class="Bound">t</a> <a id="7079" class="Symbol">=</a> <a id="7081" class="Symbol">_</a>
  <a id="7085" href="NfModel.html#6989" class="Function">reflect</a> <a id="7093" href="Formulas.html#208" class="InductiveConstructor">False</a>    <a id="7102" href="NfModel.html#7102" class="Bound">t</a> <a id="7104" class="Symbol">=</a> <a id="7106" href="NfModel.html#502" class="InductiveConstructor">falseC</a> <a id="7113" href="NfModel.html#7102" class="Bound">t</a> <a id="7115" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7117" class="Symbol">λ()</a>
  <a id="7123" href="NfModel.html#6989" class="Function">reflect</a> <a id="7131" class="Symbol">(</a><a id="7132" href="NfModel.html#7132" class="Bound">A</a> <a id="7134" href="Formulas.html#223" class="InductiveConstructor Operator">∨</a> <a id="7136" href="NfModel.html#7136" class="Bound">B</a><a id="7137" class="Symbol">)</a>  <a id="7140" href="NfModel.html#7140" class="Bound">t</a> <a id="7142" class="Symbol">=</a> <a id="7144" href="NfModel.html#540" class="InductiveConstructor">orC</a> <a id="7148" href="NfModel.html#7140" class="Bound">t</a> <a id="7150" href="NfModel.html#483" class="InductiveConstructor">hole</a> <a id="7155" href="NfModel.html#483" class="InductiveConstructor">hole</a> <a id="7160" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7162" class="Symbol">λ</a> <a id="7164" class="Keyword">where</a>
    <a id="7174" class="Symbol">(</a><a id="7175" href="NfModel.html#993" class="InductiveConstructor">left</a>  <a id="7181" href="NfModel.html#970" class="InductiveConstructor">here</a><a id="7185" class="Symbol">)</a> <a id="7187" class="Symbol">→</a> <a id="7189" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="7194" class="Symbol">(</a><a id="7195" href="NfModel.html#6989" class="Function">reflect</a> <a id="7203" href="NfModel.html#7132" class="Bound">A</a> <a id="7205" class="Symbol">(</a><a id="7206" href="Derivations.html#3177" class="InductiveConstructor">hyp</a> <a id="7210" href="Formulas.html#2668" class="InductiveConstructor">top</a><a id="7213" class="Symbol">))</a>
    <a id="7220" class="Symbol">(</a><a id="7221" href="NfModel.html#1063" class="InductiveConstructor">right</a> <a id="7227" href="NfModel.html#970" class="InductiveConstructor">here</a><a id="7231" class="Symbol">)</a> <a id="7233" class="Symbol">→</a> <a id="7235" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="7240" class="Symbol">(</a><a id="7241" href="NfModel.html#6989" class="Function">reflect</a> <a id="7249" href="NfModel.html#7136" class="Bound">B</a> <a id="7251" class="Symbol">(</a><a id="7252" href="Derivations.html#3177" class="InductiveConstructor">hyp</a> <a id="7256" href="Formulas.html#2668" class="InductiveConstructor">top</a><a id="7259" class="Symbol">))</a>
  <a id="7264" href="NfModel.html#6989" class="Function">reflect</a> <a id="7272" class="Symbol">(</a><a id="7273" href="NfModel.html#7273" class="Bound">A</a> <a id="7275" href="Formulas.html#227" class="InductiveConstructor Operator">∧</a> <a id="7277" href="NfModel.html#7277" class="Bound">B</a><a id="7278" class="Symbol">)</a>  <a id="7281" href="NfModel.html#7281" class="Bound">t</a> <a id="7283" class="Symbol">=</a> <a id="7285" href="NfModel.html#6989" class="Function">reflect</a> <a id="7293" href="NfModel.html#7273" class="Bound">A</a> <a id="7295" class="Symbol">(</a><a id="7296" href="Derivations.html#3277" class="InductiveConstructor">andE₁</a> <a id="7302" href="NfModel.html#7281" class="Bound">t</a><a id="7303" class="Symbol">)</a> <a id="7305" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7307" href="NfModel.html#6989" class="Function">reflect</a> <a id="7315" href="NfModel.html#7277" class="Bound">B</a> <a id="7317" class="Symbol">(</a><a id="7318" href="Derivations.html#3323" class="InductiveConstructor">andE₂</a> <a id="7324" href="NfModel.html#7281" class="Bound">t</a><a id="7325" class="Symbol">)</a>
  <a id="7329" href="NfModel.html#6989" class="Function">reflect</a> <a id="7337" class="Symbol">(</a><a id="7338" href="NfModel.html#7338" class="Bound">A</a> <a id="7340" href="Formulas.html#231" class="InductiveConstructor Operator">⇒</a> <a id="7342" href="NfModel.html#7342" class="Bound">B</a><a id="7343" class="Symbol">)</a>  <a id="7346" href="NfModel.html#7346" class="Bound">t</a> <a id="7348" href="NfModel.html#7348" class="Bound">τ</a> <a id="7350" href="NfModel.html#7350" class="Bound">a</a> <a id="7352" class="Symbol">=</a> <a id="7354" href="NfModel.html#6989" class="Function">reflect</a> <a id="7362" href="NfModel.html#7342" class="Bound">B</a> <a id="7364" class="Symbol">(</a><a id="7365" href="Derivations.html#3218" class="InductiveConstructor">impE</a> <a id="7370" class="Symbol">(</a><a id="7371" href="Derivations.html#4297" class="Function">monNe</a> <a id="7377" href="NfModel.html#7348" class="Bound">τ</a> <a id="7379" href="NfModel.html#7346" class="Bound">t</a><a id="7380" class="Symbol">)</a> <a id="7382" class="Symbol">(</a><a id="7383" href="NfModel.html#7398" class="Function">reify</a> <a id="7389" href="NfModel.html#7338" class="Bound">A</a> <a id="7391" href="NfModel.html#7350" class="Bound">a</a><a id="7392" class="Symbol">))</a>

  <a id="reify"></a><a id="7398" href="NfModel.html#7398" class="Function">reify</a> <a id="7404" class="Symbol">:</a> <a id="7406" class="Symbol">∀{</a><a id="7408" href="NfModel.html#7408" class="Bound">Γ</a><a id="7409" class="Symbol">}</a> <a id="7411" href="NfModel.html#7411" class="Bound">A</a> <a id="7413" class="Symbol">(</a><a id="7414" href="NfModel.html#7414" class="Bound">⟦f⟧</a> <a id="7418" class="Symbol">:</a> <a id="7420" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="7423" href="NfModel.html#7411" class="Bound">A</a> <a id="7425" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="7427" href="NfModel.html#7408" class="Bound">Γ</a><a id="7428" class="Symbol">)</a> <a id="7430" class="Symbol">→</a> <a id="7432" href="Derivations.html#3373" class="Datatype">Nf</a> <a id="7435" href="NfModel.html#7408" class="Bound">Γ</a> <a id="7437" href="NfModel.html#7411" class="Bound">A</a>
  <a id="7441" href="NfModel.html#7398" class="Function">reify</a> <a id="7447" class="Symbol">(</a><a id="7448" href="Formulas.html#176" class="InductiveConstructor">Atom</a> <a id="7453" href="NfModel.html#7453" class="Bound">P</a><a id="7454" class="Symbol">)</a> <a id="7456" href="NfModel.html#7456" class="Bound">t</a>      <a id="7463" class="Symbol">=</a> <a id="7465" href="NfModel.html#7456" class="Bound">t</a>
  <a id="7469" href="NfModel.html#7398" class="Function">reify</a> <a id="7475" href="Formulas.html#203" class="InductiveConstructor">True</a> <a id="7480" class="Symbol">_</a>          <a id="7491" class="Symbol">=</a> <a id="7493" href="Derivations.html#3879" class="InductiveConstructor">trueI</a>
  <a id="7501" href="NfModel.html#7398" class="Function">reify</a> <a id="7507" href="Formulas.html#208" class="InductiveConstructor">False</a>   <a id="7515" class="Symbol">(</a><a id="7516" href="NfModel.html#7516" class="Bound">c</a> <a id="7518" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7520" href="NfModel.html#7520" class="Bound">f</a><a id="7521" class="Symbol">)</a> <a id="7523" class="Symbol">=</a> <a id="7525" href="NfModel.html#3879" class="Function">pasteNf</a> <a id="7533" href="NfModel.html#7516" class="Bound">c</a> <a id="7535" class="Symbol">(</a><a id="7536" href="Data.Empty.html#360" class="Function">⊥-elim</a> <a id="7543" href="Function.html#759" class="Function Operator">∘</a> <a id="7545" href="NfModel.html#7520" class="Bound">f</a><a id="7546" class="Symbol">)</a>
  <a id="7550" href="NfModel.html#7398" class="Function">reify</a> <a id="7556" class="Symbol">(</a><a id="7557" href="NfModel.html#7557" class="Bound">A</a> <a id="7559" href="Formulas.html#223" class="InductiveConstructor Operator">∨</a> <a id="7561" href="NfModel.html#7561" class="Bound">B</a><a id="7562" class="Symbol">)</a> <a id="7564" class="Symbol">(</a><a id="7565" href="NfModel.html#7565" class="Bound">c</a> <a id="7567" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7569" href="NfModel.html#7569" class="Bound">f</a><a id="7570" class="Symbol">)</a> <a id="7572" class="Symbol">=</a> <a id="7574" href="NfModel.html#3879" class="Function">pasteNf</a> <a id="7582" href="NfModel.html#7565" class="Bound">c</a> <a id="7584" class="Symbol">(</a><a id="7585" href="Data.Sum.Base.html#721" class="Function Operator">[</a> <a id="7587" href="Derivations.html#3651" class="InductiveConstructor">orI₁</a> <a id="7592" href="Function.html#759" class="Function Operator">∘</a> <a id="7594" href="NfModel.html#7398" class="Function">reify</a> <a id="7600" href="NfModel.html#7557" class="Bound">A</a> <a id="7602" href="Data.Sum.Base.html#721" class="Function Operator">,</a> <a id="7604" href="Derivations.html#3699" class="InductiveConstructor">orI₂</a> <a id="7609" href="Function.html#759" class="Function Operator">∘</a> <a id="7611" href="NfModel.html#7398" class="Function">reify</a> <a id="7617" href="NfModel.html#7561" class="Bound">B</a> <a id="7619" href="Data.Sum.Base.html#721" class="Function Operator">]</a> <a id="7621" href="Function.html#759" class="Function Operator">∘</a> <a id="7623" href="NfModel.html#7569" class="Bound">f</a><a id="7624" class="Symbol">)</a>
  <a id="7628" href="NfModel.html#7398" class="Function">reify</a> <a id="7634" class="Symbol">(</a><a id="7635" href="NfModel.html#7635" class="Bound">A</a> <a id="7637" href="Formulas.html#227" class="InductiveConstructor Operator">∧</a> <a id="7639" href="NfModel.html#7639" class="Bound">B</a><a id="7640" class="Symbol">)</a> <a id="7642" class="Symbol">(</a><a id="7643" href="NfModel.html#7643" class="Bound">a</a> <a id="7645" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="7647" href="NfModel.html#7647" class="Bound">b</a><a id="7648" class="Symbol">)</a> <a id="7650" class="Symbol">=</a> <a id="7652" href="Derivations.html#3590" class="InductiveConstructor">andI</a> <a id="7657" class="Symbol">(</a><a id="7658" href="NfModel.html#7398" class="Function">reify</a> <a id="7664" href="NfModel.html#7635" class="Bound">A</a> <a id="7666" href="NfModel.html#7643" class="Bound">a</a><a id="7667" class="Symbol">)</a> <a id="7669" class="Symbol">(</a><a id="7670" href="NfModel.html#7398" class="Function">reify</a> <a id="7676" href="NfModel.html#7639" class="Bound">B</a> <a id="7678" href="NfModel.html#7647" class="Bound">b</a><a id="7679" class="Symbol">)</a>
  <a id="7683" href="NfModel.html#7398" class="Function">reify</a> <a id="7689" class="Symbol">(</a><a id="7690" href="NfModel.html#7690" class="Bound">A</a> <a id="7692" href="Formulas.html#231" class="InductiveConstructor Operator">⇒</a> <a id="7694" href="NfModel.html#7694" class="Bound">B</a><a id="7695" class="Symbol">)</a> <a id="7697" href="NfModel.html#7697" class="Bound">⟦f⟧</a>     <a id="7705" class="Symbol">=</a> <a id="7707" href="Derivations.html#3536" class="InductiveConstructor">impI</a> <a id="7712" class="Symbol">(</a><a id="7713" href="NfModel.html#7398" class="Function">reify</a> <a id="7719" href="NfModel.html#7694" class="Bound">B</a> <a id="7721" class="Symbol">(</a><a id="7722" href="NfModel.html#7697" class="Bound">⟦f⟧</a> <a id="7726" class="Symbol">(</a><a id="7727" href="Formulas.html#548" class="InductiveConstructor">weak</a> <a id="7732" href="Formulas.html#527" class="InductiveConstructor">id≤</a><a id="7735" class="Symbol">)</a> <a id="7737" class="Symbol">(</a><a id="7738" href="NfModel.html#6989" class="Function">reflect</a> <a id="7746" href="NfModel.html#7690" class="Bound">A</a> <a id="7748" class="Symbol">(</a><a id="7749" href="Derivations.html#3177" class="InductiveConstructor">hyp</a> <a id="7753" href="Formulas.html#2668" class="InductiveConstructor">top</a><a id="7756" class="Symbol">))))</a>

<a id="7762" class="Comment">-- Semantic paste.</a>

<a id="7782" class="Comment">-- This grafts semantic values f onto a case tree c : Cover Γ.</a>
<a id="7845" class="Comment">-- For atomic propositions, this is grafting of normal forms (defined before).</a>

<a id="paste"></a><a id="7925" href="NfModel.html#7925" class="Function">paste</a> <a id="7931" class="Symbol">:</a> <a id="7933" class="Symbol">∀</a> <a id="7935" href="NfModel.html#7935" class="Bound">A</a> <a id="7937" class="Symbol">{</a><a id="7938" href="NfModel.html#7938" class="Bound">Γ</a><a id="7939" class="Symbol">}</a> <a id="7941" class="Symbol">(</a><a id="7942" href="NfModel.html#7942" class="Bound">c</a> <a id="7944" class="Symbol">:</a> <a id="7946" href="NfModel.html#453" class="Datatype">Cover</a> <a id="7952" href="NfModel.html#7938" class="Bound">Γ</a><a id="7953" class="Symbol">)</a> <a id="7955" class="Symbol">(</a><a id="7956" href="NfModel.html#7956" class="Bound">f</a> <a id="7958" class="Symbol">:</a> <a id="7960" href="NfModel.html#1298" class="Function">All</a> <a id="7964" href="NfModel.html#7942" class="Bound">c</a> <a id="7966" class="Symbol">(</a><a id="7967" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="7970" href="NfModel.html#7935" class="Bound">A</a> <a id="7972" href="NfModel.html#5925" class="Function Operator">⟧</a><a id="7973" class="Symbol">))</a> <a id="7976" class="Symbol">→</a> <a id="7978" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="7981" href="NfModel.html#7935" class="Bound">A</a> <a id="7983" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="7985" href="NfModel.html#7938" class="Bound">Γ</a>
<a id="7987" href="NfModel.html#7925" class="Function">paste</a> <a id="7993" class="Symbol">(</a><a id="7994" href="Formulas.html#176" class="InductiveConstructor">Atom</a> <a id="7999" href="NfModel.html#7999" class="Bound">P</a><a id="8000" class="Symbol">)</a> <a id="8002" class="Symbol">=</a> <a id="8004" href="NfModel.html#3879" class="Function">pasteNf</a>
<a id="8012" href="NfModel.html#7925" class="Function">paste</a> <a id="8018" href="Formulas.html#203" class="InductiveConstructor">True</a>     <a id="8027" class="Symbol">=</a> <a id="8029" class="Symbol">_</a>
<a id="8031" href="NfModel.html#7925" class="Function">paste</a> <a id="8037" href="Formulas.html#208" class="InductiveConstructor">False</a>    <a id="8046" class="Symbol">=</a> <a id="8048" href="NfModel.html#5110" class="Function">transCE</a>
<a id="8056" href="NfModel.html#7925" class="Function">paste</a> <a id="8062" class="Symbol">(</a><a id="8063" href="NfModel.html#8063" class="Bound">A</a> <a id="8065" href="Formulas.html#223" class="InductiveConstructor Operator">∨</a> <a id="8067" href="NfModel.html#8067" class="Bound">B</a><a id="8068" class="Symbol">)</a>  <a id="8071" class="Symbol">=</a> <a id="8073" href="NfModel.html#5110" class="Function">transCE</a>
<a id="8081" href="NfModel.html#7925" class="Function">paste</a> <a id="8087" class="Symbol">(</a><a id="8088" href="NfModel.html#8088" class="Bound">A</a> <a id="8090" href="Formulas.html#227" class="InductiveConstructor Operator">∧</a> <a id="8092" href="NfModel.html#8092" class="Bound">B</a><a id="8093" class="Symbol">)</a> <a id="8095" href="NfModel.html#8095" class="Bound">c</a> <a id="8097" href="NfModel.html#8097" class="Bound">f</a> <a id="8099" class="Symbol">=</a> <a id="8101" href="NfModel.html#7925" class="Function">paste</a> <a id="8107" href="NfModel.html#8088" class="Bound">A</a> <a id="8109" href="NfModel.html#8095" class="Bound">c</a> <a id="8111" class="Symbol">(</a><a id="8112" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="8118" href="Function.html#759" class="Function Operator">∘</a> <a id="8120" href="NfModel.html#8097" class="Bound">f</a><a id="8121" class="Symbol">)</a> <a id="8123" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8125" href="NfModel.html#7925" class="Function">paste</a> <a id="8131" href="NfModel.html#8092" class="Bound">B</a> <a id="8133" href="NfModel.html#8095" class="Bound">c</a> <a id="8135" class="Symbol">(</a><a id="8136" href="Agda.Builtin.Sigma.html#167" class="Field">proj₂</a> <a id="8142" href="Function.html#759" class="Function Operator">∘</a> <a id="8144" href="NfModel.html#8097" class="Bound">f</a><a id="8145" class="Symbol">)</a>
<a id="8147" href="NfModel.html#7925" class="Function">paste</a> <a id="8153" class="Symbol">(</a><a id="8154" href="NfModel.html#8154" class="Bound">A</a> <a id="8156" href="Formulas.html#231" class="InductiveConstructor Operator">⇒</a> <a id="8158" href="NfModel.html#8158" class="Bound">B</a><a id="8159" class="Symbol">)</a> <a id="8161" href="NfModel.html#8161" class="Bound">c</a> <a id="8163" href="NfModel.html#8163" class="Bound">f</a> <a id="8165" href="NfModel.html#8165" class="Bound">τ</a> <a id="8167" href="NfModel.html#8167" class="Bound">a</a> <a id="8169" class="Symbol">=</a> <a id="8171" href="NfModel.html#7925" class="Function">paste</a> <a id="8177" href="NfModel.html#8158" class="Bound">B</a> <a id="8179" class="Symbol">(</a><a id="8180" href="NfModel.html#4250" class="Function">monC</a> <a id="8185" href="NfModel.html#8165" class="Bound">τ</a> <a id="8187" href="NfModel.html#8161" class="Bound">c</a><a id="8188" class="Symbol">)</a> <a id="8190" class="Symbol">λ</a> <a id="8192" class="Symbol">{</a><a id="8193" href="NfModel.html#8193" class="Bound">Δ</a><a id="8194" class="Symbol">}</a> <a id="8196" href="NfModel.html#8196" class="Bound">e</a> <a id="8198" class="Symbol">→</a>
  <a id="8202" class="Keyword">let</a> <a id="8206" href="NfModel.html#8206" class="Bound">Ψ</a> <a id="8208" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8210" href="NfModel.html#8210" class="Bound">e&#39;</a> <a id="8213" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8215" href="NfModel.html#8215" class="Bound">σ</a>  <a id="8218" class="Symbol">=</a> <a id="8220" href="NfModel.html#4667" class="Function">mon∈</a> <a id="8225" href="NfModel.html#8161" class="Bound">c</a> <a id="8227" href="NfModel.html#8165" class="Bound">τ</a> <a id="8229" href="NfModel.html#8196" class="Bound">e</a>
  <a id="8233" class="Keyword">in</a>  <a id="8237" href="NfModel.html#8163" class="Bound">f</a> <a id="8239" href="NfModel.html#8210" class="Bound">e&#39;</a> <a id="8242" href="NfModel.html#8215" class="Bound">σ</a> <a id="8244" class="Symbol">(</a><a id="8245" href="NfModel.html#6389" class="Function">monT</a> <a id="8250" href="NfModel.html#8154" class="Bound">A</a> <a id="8252" class="Symbol">(</a><a id="8253" href="NfModel.html#1758" class="Function">coverWk</a> <a id="8261" href="NfModel.html#8196" class="Bound">e</a><a id="8262" class="Symbol">)</a> <a id="8264" href="NfModel.html#8167" class="Bound">a</a><a id="8265" class="Symbol">)</a>

<a id="8268" class="Comment">-- Fundamental theorem</a>
<a id="8291" class="Comment">-- Extension of T⟦_⟧ to contexts</a>

<a id="G⟦_⟧"></a><a id="8325" href="NfModel.html#8325" class="Function Operator">G⟦_⟧</a> <a id="8330" class="Symbol">:</a> <a id="8332" class="Symbol">∀</a> <a id="8334" class="Symbol">(</a><a id="8335" href="NfModel.html#8335" class="Bound">Γ</a> <a id="8337" href="NfModel.html#8337" class="Bound">Δ</a> <a id="8339" class="Symbol">:</a> <a id="8341" href="Formulas.html#368" class="Datatype">Cxt</a><a id="8344" class="Symbol">)</a> <a id="8346" class="Symbol">→</a> <a id="8348" class="PrimitiveType">Set</a>
<a id="8352" href="NfModel.html#8325" class="Function Operator">G⟦</a> <a id="8355" href="Formulas.html#386" class="InductiveConstructor">ε</a>     <a id="8361" href="NfModel.html#8325" class="Function Operator">⟧</a> <a id="8363" href="NfModel.html#8363" class="Bound">Δ</a> <a id="8365" class="Symbol">=</a> <a id="8367" href="Agda.Builtin.Unit.html#69" class="Record">⊤</a>
<a id="8369" href="NfModel.html#8325" class="Function Operator">G⟦</a> <a id="8372" href="NfModel.html#8372" class="Bound">Γ</a> <a id="8374" href="Formulas.html#396" class="InductiveConstructor Operator">∙</a> <a id="8376" href="NfModel.html#8376" class="Bound">A</a> <a id="8378" href="NfModel.html#8325" class="Function Operator">⟧</a> <a id="8380" href="NfModel.html#8380" class="Bound">Δ</a> <a id="8382" class="Symbol">=</a> <a id="8384" href="NfModel.html#8325" class="Function Operator">G⟦</a> <a id="8387" href="NfModel.html#8372" class="Bound">Γ</a> <a id="8389" href="NfModel.html#8325" class="Function Operator">⟧</a> <a id="8391" href="NfModel.html#8380" class="Bound">Δ</a> <a id="8393" href="Data.Product.html#1352" class="Function Operator">×</a> <a id="8395" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="8398" href="NfModel.html#8376" class="Bound">A</a> <a id="8400" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="8402" href="NfModel.html#8380" class="Bound">Δ</a>

<a id="8405" class="Comment">-- monG : ∀{Γ Δ Φ} (τ : Φ ≤ Δ) → G⟦ Γ ⟧ Δ → G⟦ Γ ⟧ Φ</a>

<a id="monG"></a><a id="8459" href="NfModel.html#8459" class="Function">monG</a> <a id="8464" class="Symbol">:</a> <a id="8466" class="Symbol">∀{</a><a id="8468" href="NfModel.html#8468" class="Bound">Γ</a><a id="8469" class="Symbol">}</a> <a id="8471" class="Symbol">→</a> <a id="8473" href="Formulas.html#2741" class="Function">Mon</a> <a id="8477" href="NfModel.html#8325" class="Function Operator">G⟦</a> <a id="8480" href="NfModel.html#8468" class="Bound">Γ</a> <a id="8482" href="NfModel.html#8325" class="Function Operator">⟧</a>
<a id="8484" href="NfModel.html#8459" class="Function">monG</a> <a id="8489" class="Symbol">{</a><a id="8490" href="Formulas.html#386" class="InductiveConstructor">ε</a><a id="8491" class="Symbol">}</a> <a id="8493" href="NfModel.html#8493" class="Bound">τ</a> <a id="8495" class="Symbol">_</a> <a id="8497" class="Symbol">=</a> <a id="8499" class="Symbol">_</a>
<a id="8501" href="NfModel.html#8459" class="Function">monG</a> <a id="8506" class="Symbol">{</a><a id="8507" href="NfModel.html#8507" class="Bound">Γ</a> <a id="8509" href="Formulas.html#396" class="InductiveConstructor Operator">∙</a> <a id="8511" href="NfModel.html#8511" class="Bound">A</a><a id="8512" class="Symbol">}</a> <a id="8514" href="NfModel.html#8514" class="Bound">τ</a> <a id="8516" class="Symbol">(</a><a id="8517" href="NfModel.html#8517" class="Bound">γ</a> <a id="8519" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8521" href="NfModel.html#8521" class="Bound">a</a><a id="8522" class="Symbol">)</a> <a id="8524" class="Symbol">=</a> <a id="8526" href="NfModel.html#8459" class="Function">monG</a> <a id="8531" href="NfModel.html#8514" class="Bound">τ</a> <a id="8533" href="NfModel.html#8517" class="Bound">γ</a> <a id="8535" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8537" href="NfModel.html#6389" class="Function">monT</a> <a id="8542" href="NfModel.html#8511" class="Bound">A</a> <a id="8544" href="NfModel.html#8514" class="Bound">τ</a> <a id="8546" href="NfModel.html#8521" class="Bound">a</a>

<a id="8549" class="Comment">-- Variable case.</a>

<a id="fundH"></a><a id="8568" href="NfModel.html#8568" class="Function">fundH</a> <a id="8574" class="Symbol">:</a> <a id="8576" class="Symbol">∀{</a><a id="8578" href="NfModel.html#8578" class="Bound">Γ</a> <a id="8580" href="NfModel.html#8580" class="Bound">Δ</a> <a id="8582" href="NfModel.html#8582" class="Bound">A</a><a id="8583" class="Symbol">}</a> <a id="8585" class="Symbol">(</a><a id="8586" href="NfModel.html#8586" class="Bound">x</a> <a id="8588" class="Symbol">:</a> <a id="8590" href="Formulas.html#2627" class="Datatype">Hyp</a> <a id="8594" href="NfModel.html#8582" class="Bound">A</a> <a id="8596" href="NfModel.html#8578" class="Bound">Γ</a><a id="8597" class="Symbol">)</a> <a id="8599" class="Symbol">(</a><a id="8600" href="NfModel.html#8600" class="Bound">γ</a> <a id="8602" class="Symbol">:</a> <a id="8604" href="NfModel.html#8325" class="Function Operator">G⟦</a> <a id="8607" href="NfModel.html#8578" class="Bound">Γ</a> <a id="8609" href="NfModel.html#8325" class="Function Operator">⟧</a> <a id="8611" href="NfModel.html#8580" class="Bound">Δ</a><a id="8612" class="Symbol">)</a> <a id="8614" class="Symbol">→</a> <a id="8616" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="8619" href="NfModel.html#8582" class="Bound">A</a> <a id="8621" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="8623" href="NfModel.html#8580" class="Bound">Δ</a>
<a id="8625" href="NfModel.html#8568" class="Function">fundH</a> <a id="8631" href="Formulas.html#2668" class="InductiveConstructor">top</a>     <a id="8639" class="Symbol">=</a> <a id="8641" href="Agda.Builtin.Sigma.html#167" class="Field">proj₂</a>
<a id="8647" href="NfModel.html#8568" class="Function">fundH</a> <a id="8653" class="Symbol">(</a><a id="8654" href="Formulas.html#2697" class="InductiveConstructor">pop</a> <a id="8658" href="NfModel.html#8658" class="Bound">x</a><a id="8659" class="Symbol">)</a> <a id="8661" class="Symbol">=</a> <a id="8663" href="NfModel.html#8568" class="Function">fundH</a> <a id="8669" href="NfModel.html#8658" class="Bound">x</a> <a id="8671" href="Function.html#759" class="Function Operator">∘</a> <a id="8673" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a>

<a id="8680" class="Comment">-- A lemma for the orE case.</a>

<a id="orElim"></a><a id="8710" href="NfModel.html#8710" class="Function">orElim</a> <a id="8717" class="Symbol">:</a> <a id="8719" class="Symbol">∀</a> <a id="8721" class="Symbol">{</a><a id="8722" href="NfModel.html#8722" class="Bound">Γ</a> <a id="8724" href="NfModel.html#8724" class="Bound">A</a> <a id="8726" href="NfModel.html#8726" class="Bound">B</a> <a id="8728" href="NfModel.html#8728" class="Bound">E</a><a id="8729" class="Symbol">}</a> <a id="8731" class="Symbol">→</a> <a id="8733" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="8736" href="NfModel.html#8724" class="Bound">A</a> <a id="8738" href="Formulas.html#223" class="InductiveConstructor Operator">∨</a> <a id="8740" href="NfModel.html#8726" class="Bound">B</a> <a id="8742" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="8744" href="NfModel.html#8722" class="Bound">Γ</a> <a id="8746" class="Symbol">→</a>
         <a id="8757" class="Symbol">(∀{</a><a id="8760" href="NfModel.html#8760" class="Bound">Δ</a><a id="8761" class="Symbol">}</a> <a id="8763" class="Symbol">(</a><a id="8764" href="NfModel.html#8764" class="Bound">τ</a> <a id="8766" class="Symbol">:</a> <a id="8768" href="NfModel.html#8760" class="Bound">Δ</a> <a id="8770" href="Formulas.html#495" class="Datatype Operator">≤</a> <a id="8772" href="NfModel.html#8722" class="Bound">Γ</a><a id="8773" class="Symbol">)</a> <a id="8775" class="Symbol">→</a> <a id="8777" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="8780" href="NfModel.html#8724" class="Bound">A</a> <a id="8782" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="8784" href="NfModel.html#8760" class="Bound">Δ</a> <a id="8786" class="Symbol">→</a> <a id="8788" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="8791" href="NfModel.html#8728" class="Bound">E</a> <a id="8793" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="8795" href="NfModel.html#8760" class="Bound">Δ</a><a id="8796" class="Symbol">)</a> <a id="8798" class="Symbol">→</a>
         <a id="8809" class="Symbol">(∀{</a><a id="8812" href="NfModel.html#8812" class="Bound">Δ</a><a id="8813" class="Symbol">}</a> <a id="8815" class="Symbol">(</a><a id="8816" href="NfModel.html#8816" class="Bound">τ</a> <a id="8818" class="Symbol">:</a> <a id="8820" href="NfModel.html#8812" class="Bound">Δ</a> <a id="8822" href="Formulas.html#495" class="Datatype Operator">≤</a> <a id="8824" href="NfModel.html#8722" class="Bound">Γ</a><a id="8825" class="Symbol">)</a> <a id="8827" class="Symbol">→</a> <a id="8829" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="8832" href="NfModel.html#8726" class="Bound">B</a> <a id="8834" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="8836" href="NfModel.html#8812" class="Bound">Δ</a> <a id="8838" class="Symbol">→</a> <a id="8840" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="8843" href="NfModel.html#8728" class="Bound">E</a> <a id="8845" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="8847" href="NfModel.html#8812" class="Bound">Δ</a><a id="8848" class="Symbol">)</a> <a id="8850" class="Symbol">→</a>
         <a id="8861" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="8864" href="NfModel.html#8728" class="Bound">E</a> <a id="8866" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="8868" href="NfModel.html#8722" class="Bound">Γ</a>
<a id="8870" href="NfModel.html#8710" class="Function">orElim</a> <a id="8877" class="Symbol">(</a><a id="8878" href="NfModel.html#8878" class="Bound">c</a> <a id="8880" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="8882" href="NfModel.html#8882" class="Bound">f</a><a id="8883" class="Symbol">)</a> <a id="8885" href="NfModel.html#8885" class="Bound">g</a> <a id="8887" href="NfModel.html#8887" class="Bound">h</a> <a id="8889" class="Symbol">=</a> <a id="8891" href="NfModel.html#7925" class="Function">paste</a> <a id="8897" class="Symbol">_</a> <a id="8899" href="NfModel.html#8878" class="Bound">c</a> <a id="8901" class="Symbol">λ</a> <a id="8903" href="NfModel.html#8903" class="Bound">e</a> <a id="8905" class="Symbol">→</a> <a id="8907" href="Function.html#3331" class="Function Operator">case</a> <a id="8912" href="NfModel.html#8882" class="Bound">f</a> <a id="8914" href="NfModel.html#8903" class="Bound">e</a> <a id="8916" href="Function.html#3331" class="Function Operator">of</a> <a id="8919" href="Data.Sum.Base.html#721" class="Function Operator">[</a> <a id="8921" href="NfModel.html#8885" class="Bound">g</a> <a id="8923" class="Symbol">(</a><a id="8924" href="NfModel.html#1758" class="Function">coverWk</a> <a id="8932" href="NfModel.html#8903" class="Bound">e</a><a id="8933" class="Symbol">)</a> <a id="8935" href="Data.Sum.Base.html#721" class="Function Operator">,</a> <a id="8937" href="NfModel.html#8887" class="Bound">h</a> <a id="8939" class="Symbol">(</a><a id="8940" href="NfModel.html#1758" class="Function">coverWk</a> <a id="8948" href="NfModel.html#8903" class="Bound">e</a><a id="8949" class="Symbol">)</a> <a id="8951" href="Data.Sum.Base.html#721" class="Function Operator">]</a>

<a id="8954" class="Comment">-- A lemma for the falseE case.</a>

<a id="8987" class="Comment">-- Casts an empty cover into any semantic value (by contradiction).</a>

<a id="falseElim"></a><a id="9056" href="NfModel.html#9056" class="Function">falseElim</a> <a id="9066" class="Symbol">:</a> <a id="9068" class="Symbol">∀{</a><a id="9070" href="NfModel.html#9070" class="Bound">Γ</a> <a id="9072" href="NfModel.html#9072" class="Bound">A</a><a id="9073" class="Symbol">}</a> <a id="9075" class="Symbol">→</a> <a id="9077" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="9080" href="Formulas.html#208" class="InductiveConstructor">False</a> <a id="9086" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="9088" href="NfModel.html#9070" class="Bound">Γ</a> <a id="9090" class="Symbol">→</a> <a id="9092" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="9095" href="NfModel.html#9072" class="Bound">A</a> <a id="9097" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="9099" href="NfModel.html#9070" class="Bound">Γ</a>
<a id="9101" href="NfModel.html#9056" class="Function">falseElim</a> <a id="9111" class="Symbol">(</a><a id="9112" href="NfModel.html#9112" class="Bound">c</a> <a id="9114" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="9116" href="NfModel.html#9116" class="Bound">f</a><a id="9117" class="Symbol">)</a> <a id="9119" class="Symbol">=</a> <a id="9121" href="NfModel.html#7925" class="Function">paste</a> <a id="9127" class="Symbol">_</a> <a id="9129" href="NfModel.html#9112" class="Bound">c</a> <a id="9131" class="Symbol">(</a><a id="9132" href="Data.Empty.html#360" class="Function">⊥-elim</a> <a id="9139" href="Function.html#759" class="Function Operator">∘</a> <a id="9141" href="NfModel.html#9116" class="Bound">f</a><a id="9142" class="Symbol">)</a>

<a id="9145" class="Comment">-- The fundamental theorem</a>

<a id="fund"></a><a id="9173" href="NfModel.html#9173" class="Function">fund</a> <a id="9178" class="Symbol">:</a>  <a id="9181" class="Symbol">∀{</a><a id="9183" href="NfModel.html#9183" class="Bound">Γ</a> <a id="9185" href="NfModel.html#9185" class="Bound">A</a><a id="9186" class="Symbol">}</a> <a id="9188" class="Symbol">(</a><a id="9189" href="NfModel.html#9189" class="Bound">t</a> <a id="9191" class="Symbol">:</a> <a id="9193" href="NfModel.html#9183" class="Bound">Γ</a> <a id="9195" href="Derivations.html#230" class="Datatype Operator">⊢</a> <a id="9197" href="NfModel.html#9185" class="Bound">A</a><a id="9198" class="Symbol">)</a> <a id="9200" class="Symbol">{</a><a id="9201" href="NfModel.html#9201" class="Bound">Δ</a><a id="9202" class="Symbol">}</a> <a id="9204" class="Symbol">(</a><a id="9205" href="NfModel.html#9205" class="Bound">γ</a> <a id="9207" class="Symbol">:</a> <a id="9209" href="NfModel.html#8325" class="Function Operator">G⟦</a> <a id="9212" href="NfModel.html#9183" class="Bound">Γ</a> <a id="9214" href="NfModel.html#8325" class="Function Operator">⟧</a> <a id="9216" href="NfModel.html#9201" class="Bound">Δ</a><a id="9217" class="Symbol">)</a> <a id="9219" class="Symbol">→</a> <a id="9221" href="NfModel.html#5925" class="Function Operator">T⟦</a> <a id="9224" href="NfModel.html#9185" class="Bound">A</a> <a id="9226" href="NfModel.html#5925" class="Function Operator">⟧</a> <a id="9228" href="NfModel.html#9201" class="Bound">Δ</a>
<a id="9230" href="NfModel.html#9173" class="Function">fund</a> <a id="9235" class="Symbol">(</a><a id="9236" href="Derivations.html#271" class="InductiveConstructor">hyp</a> <a id="9240" href="NfModel.html#9240" class="Bound">x</a><a id="9241" class="Symbol">)</a>           <a id="9253" class="Symbol">=</a> <a id="9255" href="NfModel.html#8568" class="Function">fundH</a> <a id="9261" href="NfModel.html#9240" class="Bound">x</a>
<a id="9263" href="NfModel.html#9173" class="Function">fund</a> <a id="9268" class="Symbol">(</a><a id="9269" href="Derivations.html#309" class="InductiveConstructor">impI</a> <a id="9274" href="NfModel.html#9274" class="Bound">t</a><a id="9275" class="Symbol">)</a>    <a id="9280" href="NfModel.html#9280" class="Bound">γ</a> <a id="9282" href="NfModel.html#9282" class="Bound">τ</a> <a id="9284" href="NfModel.html#9284" class="Bound">a</a> <a id="9286" class="Symbol">=</a> <a id="9288" href="NfModel.html#9173" class="Function">fund</a> <a id="9293" href="NfModel.html#9274" class="Bound">t</a> <a id="9295" class="Symbol">(</a><a id="9296" href="NfModel.html#8459" class="Function">monG</a> <a id="9301" href="NfModel.html#9282" class="Bound">τ</a> <a id="9303" href="NfModel.html#9280" class="Bound">γ</a> <a id="9305" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="9307" href="NfModel.html#9284" class="Bound">a</a><a id="9308" class="Symbol">)</a>
<a id="9310" href="NfModel.html#9173" class="Function">fund</a> <a id="9315" class="Symbol">(</a><a id="9316" href="Derivations.html#355" class="InductiveConstructor">impE</a> <a id="9321" href="NfModel.html#9321" class="Bound">t</a> <a id="9323" href="NfModel.html#9323" class="Bound">u</a><a id="9324" class="Symbol">)</a>  <a id="9327" href="NfModel.html#9327" class="Bound">γ</a>     <a id="9333" class="Symbol">=</a> <a id="9335" href="NfModel.html#9173" class="Function">fund</a> <a id="9340" href="NfModel.html#9321" class="Bound">t</a> <a id="9342" href="NfModel.html#9327" class="Bound">γ</a> <a id="9344" href="Formulas.html#527" class="InductiveConstructor">id≤</a> <a id="9348" class="Symbol">(</a><a id="9349" href="NfModel.html#9173" class="Function">fund</a> <a id="9354" href="NfModel.html#9323" class="Bound">u</a> <a id="9356" href="NfModel.html#9327" class="Bound">γ</a><a id="9357" class="Symbol">)</a>
<a id="9359" href="NfModel.html#9173" class="Function">fund</a> <a id="9364" class="Symbol">(</a><a id="9365" href="Derivations.html#409" class="InductiveConstructor">andI</a> <a id="9370" href="NfModel.html#9370" class="Bound">t</a> <a id="9372" href="NfModel.html#9372" class="Bound">u</a><a id="9373" class="Symbol">)</a>  <a id="9376" href="NfModel.html#9376" class="Bound">γ</a>     <a id="9382" class="Symbol">=</a> <a id="9384" href="NfModel.html#9173" class="Function">fund</a> <a id="9389" href="NfModel.html#9370" class="Bound">t</a> <a id="9391" href="NfModel.html#9376" class="Bound">γ</a> <a id="9393" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="9395" href="NfModel.html#9173" class="Function">fund</a> <a id="9400" href="NfModel.html#9372" class="Bound">u</a> <a id="9402" href="NfModel.html#9376" class="Bound">γ</a>
<a id="9404" href="NfModel.html#9173" class="Function">fund</a> <a id="9409" class="Symbol">(</a><a id="9410" href="Derivations.html#463" class="InductiveConstructor">andE₁</a> <a id="9416" href="NfModel.html#9416" class="Bound">t</a><a id="9417" class="Symbol">)</a>         <a id="9427" class="Symbol">=</a> <a id="9429" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="9435" href="Function.html#759" class="Function Operator">∘</a> <a id="9437" href="NfModel.html#9173" class="Function">fund</a> <a id="9442" href="NfModel.html#9416" class="Bound">t</a>
<a id="9444" href="NfModel.html#9173" class="Function">fund</a> <a id="9449" class="Symbol">(</a><a id="9450" href="Derivations.html#505" class="InductiveConstructor">andE₂</a> <a id="9456" href="NfModel.html#9456" class="Bound">t</a><a id="9457" class="Symbol">)</a>         <a id="9467" class="Symbol">=</a> <a id="9469" href="Agda.Builtin.Sigma.html#167" class="Field">proj₂</a> <a id="9475" href="Function.html#759" class="Function Operator">∘</a> <a id="9477" href="NfModel.html#9173" class="Function">fund</a> <a id="9482" href="NfModel.html#9456" class="Bound">t</a>
<a id="9484" href="NfModel.html#9173" class="Function">fund</a> <a id="9489" class="Symbol">(</a><a id="9490" href="Derivations.html#547" class="InductiveConstructor">orI₁</a> <a id="9495" href="NfModel.html#9495" class="Bound">t</a><a id="9496" class="Symbol">)</a>    <a id="9501" href="NfModel.html#9501" class="Bound">γ</a>     <a id="9507" class="Symbol">=</a> <a id="9509" href="NfModel.html#483" class="InductiveConstructor">hole</a> <a id="9514" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="9516" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="9521" href="Function.html#759" class="Function Operator">∘</a> <a id="9523" class="Symbol">λ{</a> <a id="9526" href="NfModel.html#970" class="InductiveConstructor">here</a> <a id="9531" class="Symbol">→</a> <a id="9533" href="NfModel.html#9173" class="Function">fund</a> <a id="9538" href="NfModel.html#9495" class="Bound">t</a> <a id="9540" href="NfModel.html#9501" class="Bound">γ</a> <a id="9542" class="Symbol">}</a>
<a id="9544" href="NfModel.html#9173" class="Function">fund</a> <a id="9549" class="Symbol">(</a><a id="9550" href="Derivations.html#589" class="InductiveConstructor">orI₂</a> <a id="9555" href="NfModel.html#9555" class="Bound">t</a><a id="9556" class="Symbol">)</a>    <a id="9561" href="NfModel.html#9561" class="Bound">γ</a>     <a id="9567" class="Symbol">=</a> <a id="9569" href="NfModel.html#483" class="InductiveConstructor">hole</a> <a id="9574" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="9576" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="9581" href="Function.html#759" class="Function Operator">∘</a> <a id="9583" class="Symbol">λ{</a> <a id="9586" href="NfModel.html#970" class="InductiveConstructor">here</a> <a id="9591" class="Symbol">→</a> <a id="9593" href="NfModel.html#9173" class="Function">fund</a> <a id="9598" href="NfModel.html#9555" class="Bound">t</a> <a id="9600" href="NfModel.html#9561" class="Bound">γ</a> <a id="9602" class="Symbol">}</a>
<a id="9604" href="NfModel.html#9173" class="Function">fund</a> <a id="9609" class="Symbol">(</a><a id="9610" href="Derivations.html#631" class="InductiveConstructor">orE</a> <a id="9614" href="NfModel.html#9614" class="Bound">t</a> <a id="9616" href="NfModel.html#9616" class="Bound">u</a> <a id="9618" href="NfModel.html#9618" class="Bound">v</a><a id="9619" class="Symbol">)</a> <a id="9621" href="NfModel.html#9621" class="Bound">γ</a>     <a id="9627" class="Symbol">=</a> <a id="9629" href="NfModel.html#8710" class="Function">orElim</a> <a id="9636" class="Symbol">(</a><a id="9637" href="NfModel.html#9173" class="Function">fund</a> <a id="9642" href="NfModel.html#9614" class="Bound">t</a> <a id="9644" href="NfModel.html#9621" class="Bound">γ</a><a id="9645" class="Symbol">)</a>
  <a id="9649" class="Symbol">(λ</a> <a id="9652" href="NfModel.html#9652" class="Bound">τ</a> <a id="9654" href="NfModel.html#9654" class="Bound">a</a> <a id="9656" class="Symbol">→</a> <a id="9658" href="NfModel.html#9173" class="Function">fund</a> <a id="9663" href="NfModel.html#9616" class="Bound">u</a> <a id="9665" class="Symbol">(</a><a id="9666" href="NfModel.html#8459" class="Function">monG</a> <a id="9671" href="NfModel.html#9652" class="Bound">τ</a> <a id="9673" href="NfModel.html#9621" class="Bound">γ</a> <a id="9675" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="9677" href="NfModel.html#9654" class="Bound">a</a><a id="9678" class="Symbol">))</a>
  <a id="9683" class="Symbol">(λ</a> <a id="9686" href="NfModel.html#9686" class="Bound">τ</a> <a id="9688" href="NfModel.html#9688" class="Bound">b</a> <a id="9690" class="Symbol">→</a> <a id="9692" href="NfModel.html#9173" class="Function">fund</a> <a id="9697" href="NfModel.html#9618" class="Bound">v</a> <a id="9699" class="Symbol">(</a><a id="9700" href="NfModel.html#8459" class="Function">monG</a> <a id="9705" href="NfModel.html#9686" class="Bound">τ</a> <a id="9707" href="NfModel.html#9621" class="Bound">γ</a> <a id="9709" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="9711" href="NfModel.html#9688" class="Bound">b</a><a id="9712" class="Symbol">))</a>
<a id="9715" href="NfModel.html#9173" class="Function">fund</a> <a id="9720" class="Symbol">(</a><a id="9721" href="Derivations.html#707" class="InductiveConstructor">falseE</a> <a id="9728" href="NfModel.html#9728" class="Bound">t</a><a id="9729" class="Symbol">)</a>  <a id="9732" href="NfModel.html#9732" class="Bound">γ</a>     <a id="9738" class="Symbol">=</a> <a id="9740" href="NfModel.html#9056" class="Function">falseElim</a> <a id="9750" class="Symbol">(</a><a id="9751" href="NfModel.html#9173" class="Function">fund</a> <a id="9756" href="NfModel.html#9728" class="Bound">t</a> <a id="9758" href="NfModel.html#9732" class="Bound">γ</a><a id="9759" class="Symbol">)</a>
<a id="9761" href="NfModel.html#9173" class="Function">fund</a> <a id="9766" href="Derivations.html#747" class="InductiveConstructor">trueI</a>       <a id="9778" href="NfModel.html#9778" class="Bound">γ</a>     <a id="9784" class="Symbol">=</a> <a id="9786" class="Symbol">_</a>

<a id="9789" class="Comment">-- Identity environment</a>

<a id="ide"></a><a id="9814" href="NfModel.html#9814" class="Function">ide</a> <a id="9818" class="Symbol">:</a> <a id="9820" class="Symbol">∀</a> <a id="9822" href="NfModel.html#9822" class="Bound">Γ</a> <a id="9824" class="Symbol">→</a> <a id="9826" href="NfModel.html#8325" class="Function Operator">G⟦</a> <a id="9829" href="NfModel.html#9822" class="Bound">Γ</a> <a id="9831" href="NfModel.html#8325" class="Function Operator">⟧</a> <a id="9833" href="NfModel.html#9822" class="Bound">Γ</a>
<a id="9835" href="NfModel.html#9814" class="Function">ide</a> <a id="9839" href="Formulas.html#386" class="InductiveConstructor">ε</a> <a id="9841" class="Symbol">=</a> <a id="9843" class="Symbol">_</a>
<a id="9845" href="NfModel.html#9814" class="Function">ide</a> <a id="9849" class="Symbol">(</a><a id="9850" href="NfModel.html#9850" class="Bound">Γ</a> <a id="9852" href="Formulas.html#396" class="InductiveConstructor Operator">∙</a> <a id="9854" href="NfModel.html#9854" class="Bound">A</a><a id="9855" class="Symbol">)</a> <a id="9857" class="Symbol">=</a> <a id="9859" href="NfModel.html#8459" class="Function">monG</a> <a id="9864" class="Symbol">(</a><a id="9865" href="Formulas.html#548" class="InductiveConstructor">weak</a> <a id="9870" href="Formulas.html#527" class="InductiveConstructor">id≤</a><a id="9873" class="Symbol">)</a> <a id="9875" class="Symbol">(</a><a id="9876" href="NfModel.html#9814" class="Function">ide</a> <a id="9880" href="NfModel.html#9850" class="Bound">Γ</a><a id="9881" class="Symbol">)</a> <a id="9883" href="Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="9885" href="NfModel.html#6989" class="Function">reflect</a> <a id="9893" href="NfModel.html#9854" class="Bound">A</a> <a id="9895" class="Symbol">(</a><a id="9896" href="Derivations.html#3177" class="InductiveConstructor">hyp</a> <a id="9900" href="Formulas.html#2668" class="InductiveConstructor">top</a><a id="9903" class="Symbol">)</a>

<a id="9906" class="Comment">-- Normalization</a>

<a id="norm"></a><a id="9924" href="NfModel.html#9924" class="Function">norm</a> <a id="9929" class="Symbol">:</a> <a id="9931" class="Symbol">∀{</a><a id="9933" href="NfModel.html#9933" class="Bound">Γ</a> <a id="9935" href="NfModel.html#9935" class="Bound">A</a><a id="9936" class="Symbol">}</a> <a id="9938" class="Symbol">(</a><a id="9939" href="NfModel.html#9939" class="Bound">t</a> <a id="9941" class="Symbol">:</a> <a id="9943" href="NfModel.html#9933" class="Bound">Γ</a> <a id="9945" href="Derivations.html#230" class="Datatype Operator">⊢</a> <a id="9947" href="NfModel.html#9935" class="Bound">A</a><a id="9948" class="Symbol">)</a> <a id="9950" class="Symbol">→</a> <a id="9952" href="Derivations.html#3373" class="Datatype">Nf</a> <a id="9955" href="NfModel.html#9933" class="Bound">Γ</a> <a id="9957" href="NfModel.html#9935" class="Bound">A</a>
<a id="9959" href="NfModel.html#9924" class="Function">norm</a> <a id="9964" href="NfModel.html#9964" class="Bound">t</a> <a id="9966" class="Symbol">=</a> <a id="9968" href="NfModel.html#7398" class="Function">reify</a> <a id="9974" class="Symbol">_</a> <a id="9976" class="Symbol">(</a><a id="9977" href="NfModel.html#9173" class="Function">fund</a> <a id="9982" href="NfModel.html#9964" class="Bound">t</a> <a id="9984" class="Symbol">(</a><a id="9985" href="NfModel.html#9814" class="Function">ide</a> <a id="9989" class="Symbol">_))</a>

<a id="9994" class="Comment">-- Q.E.D. -}</a>
</pre></body></html>